(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["compute"],{"02f4":function(e,t,a){var n=a("4588"),o=a("be13");e.exports=function(e){return function(t,a){var r,i,s=String(o(t)),l=n(a),c=s.length;return l<0||l>=c?e?"":void 0:(r=s.charCodeAt(l),r<55296||r>56319||l+1===c||(i=s.charCodeAt(l+1))<56320||i>57343?e?s.charAt(l):r:e?s.slice(l,l+2):i-56320+(r-55296<<10)+65536)}}},"0390":function(e,t,a){"use strict";var n=a("02f4")(!0);e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},"0495":function(e,t,a){},"0bfb":function(e,t,a){"use strict";var n=a("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"200b0":function(e,t,a){"use strict";var n=a("b691"),o=a.n(n);o.a},"20d6":function(e,t,a){"use strict";var n=a("5ca1"),o=a("0a49")(6),r="findIndex",i=!0;r in[]&&Array(1)[r](function(){i=!1}),n(n.P+n.F*i,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(r)},"214f":function(e,t,a){"use strict";a("b0c5");var n=a("2aba"),o=a("32e9"),r=a("79e5"),i=a("be13"),s=a("2b4c"),l=a("520a"),c=s("species"),u=!r(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();e.exports=function(e,t,a){var f=s(e),m=!r(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),p=m?!r(function(){var t=!1,a=/a/;return a.exec=function(){return t=!0,null},"split"===e&&(a.constructor={},a.constructor[c]=function(){return a}),a[f](""),!t}):void 0;if(!m||!p||"replace"===e&&!u||"split"===e&&!d){var h=/./[f],v=a(i,f,""[e],function(e,t,a,n,o){return t.exec===l?m&&!o?{done:!0,value:h.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}}),g=v[0],b=v[1];n(String.prototype,e,g),o(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"260d":function(e,t,a){"use strict";var n=a("0495"),o=a.n(n);o.a},2978:function(e,t,a){},"2b05":function(e,t,a){},"2c08":function(e,t,a){},3846:function(e,t,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"3dc7":function(e,t,a){"use strict";var n=a("eb2e"),o=a.n(n);o.a},"520a":function(e,t,a){"use strict";var n=a("0bfb"),o=RegExp.prototype.exec,r=String.prototype.replace,i=o,s="lastIndex",l=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e[s]||0!==t[s]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(i=function(e){var t,a,i,u,d=this;return c&&(a=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),l&&(t=d[s]),i=o.call(d,e),l&&i&&(d[s]=d.global?i.index+i[0].length:t),c&&i&&i.length>1&&r.call(i[0],a,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)}),i}),e.exports=i},5630:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-layout",[a("a-steps",{attrs:{current:e.current}},e._l(e.steps,function(e){return a("a-step",{key:e.title,attrs:{title:e.title}})}),1),a("div",{staticClass:"steps-content"},[a("Step0",{directives:[{name:"show",rawName:"v-show",value:0===e.current,expression:"current === 0"}],ref:"content0",on:{next:e.nextStep}}),a("Step1",{directives:[{name:"show",rawName:"v-show",value:1===e.current,expression:"current === 1"}],ref:"content1",on:{next:e.nextStep}}),a("Step2",{directives:[{name:"show",rawName:"v-show",value:2===e.current,expression:"current === 2"}],ref:"content2",on:{next:e.nextStep}}),a("Step3",{directives:[{name:"show",rawName:"v-show",value:3===e.current,expression:"current === 3"}],ref:"content3",on:{next:e.nextStep,submit:e.handleSubmit}})],1),a("div",{staticClass:"steps-action"},[e.current>0?a("a-button",{on:{click:e.prev}},[e._v("上一步")]):e._e(),e.current==e.steps.length-1?a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.handleNextClick}},[e._v("创建")]):e._e(),e.current<e.steps.length-1?a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.handleNextClick}},[e._v("下一步")]):e._e()],1)],1)],1)},o=[],r=(a("ac6a"),a("f751"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"映像提供方："}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["supporter",{rules:[{required:!0,message:"请选择一个映像提供方!"}]}],expression:"[\n          'supporter',\n          {rules: [{ required: true, message: '请选择一个映像提供方!' }]}\n        ]"}],attrs:{buttonStyle:"solid"}},[a("a-radio-button",{attrs:{value:"large"}},[e._v("系统")]),a("a-radio-button",{attrs:{value:"default"}},[e._v("自有")]),a("a-radio-button",{attrs:{value:"small"}},[e._v("共享")])],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"选择操作系统："}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["mirror",{rules:[{required:!0,message:"请选择一个操作系统!"}]}],expression:"[\n          'mirror',\n          {rules: [{ required: true, message: '请选择一个操作系统!' }]}\n        ]"}],attrs:{placeholder:"请选择"}},e._l(e.optionList.mirror,function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}),1)],1)],1)],1)}),i=[],s={memory:[{text:"1G",value:"1G"},{text:"2G",value:"2G"},{text:"4G",value:"4G"},{text:"8G",value:"8G"},{text:"12G",value:"12G"},{text:"16G",value:"16G"},{text:"32G",value:"32G"},{text:"48G",value:"48G"},{text:"64G",value:"64G"}],cpu:[{text:"1核",value:"1核"},{text:"2核",value:"2核"},{text:"4核",value:"4核"},{text:"8核",value:"8核"},{text:"12核",value:"12核"},{text:"24核",value:"24核"},{text:"32核",value:"32核"}],mirror:[{text:"Centos6.5_X86_64bit",value:"Centos6.5_X86_64bit"},{text:"Centos6.6_X86_64bit",value:"Centos6.6_X86_64bit"},{text:"Centos7.1_X86_64bit",value:"Centos7.1_X86_64bit"},{text:"Centos7.2_X86_64bit",value:"Centos7.2_X86_64bit"},{text:"Centos7.4_X86_64bit",value:"Centos7.4_X86_64bit"},{text:"Centos7.5_X86_64bit",value:"Centos7.5_X86_64bit"},{text:"Ubuntu14.04_x86_64bit",value:"Ubuntu14.04_x86_64bit"},{text:"Ubuntu16.04_X86_64bit",value:"Ubuntu16.04_X86_64bit"},{text:"Window Server2008 R2 64bit",value:"Window Server2008 R2 64bit"},{text:"Window Server2012 R2 64bit",value:"Window Server2012 R2 64bit"}]},l={data:function(){return{form:this.$form.createForm(this),labelCol:{span:8},wrapperCol:{span:12},optionList:s}},methods:{handleSubmit:function(){var e=this;this.form.validateFields(function(t,a){t||(console.log("Received values of form: ",a),e.$emit("next",{step1:a}))})}}},c=l,u=(a("989a"),a("2877")),d=Object(u["a"])(c,r,i,!1,null,null,null);d.options.__file="Step0.vue";var f=d.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"可用区"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["area",{rules:[{required:!0,message:"请选择一个可用区!"}]}],expression:"[\n          'area',\n          {rules: [{ required: true, message: '请选择一个可用区!' }]}\n        ]"}],attrs:{buttonStyle:"solid"}},[a("a-radio-button",{attrs:{value:"1"}},[e._v("北京1区")]),a("a-radio-button",{attrs:{value:"2"}},[e._v("北京2区")])],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"CPU"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["cpu",{rules:[{required:!0,message:"请选择一个CPU!"}]}],expression:"[\n          'cpu',\n          {rules: [{ required: true, message: '请选择一个CPU!' }]}\n        ]"}],attrs:{buttonStyle:"solid"}},e._l(e.optionList.cpu,function(t){return a("a-radio-button",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}),1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"内存"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["memory",{rules:[{required:!0,message:"请选择一个内存!"}]}],expression:"[\n          'memory',\n          {rules: [{ required: true, message: '请选择一个内存!' }]}\n        ]"}],attrs:{buttonStyle:"solid"}},e._l(e.optionList.memory,function(t){return a("a-radio-button",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}),1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"系统盘"}},[a("a-col",[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["systemDisk",{rules:[{required:!0,message:"请填写系统盘大小!"}]}],expression:"[\n          'systemDisk',\n          {rules: [{ required: true, message: '请填写系统盘大小!' }]}\n        ]"}],attrs:{min:40,max:200,formatter:function(e){return e?e+" G":""},parser:function(e){return e.replace(" G","")}}})],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"硬盘",fieldDecoratorId:"hardDisk",fieldDecoratorOptions:{rules:[{type:"string",message:"请选择一个硬盘!"}]}}},[a("a-alert",{staticStyle:{"margin-bottom":"16px","text-align":"left"},attrs:{type:"info",showIcon:""}},[a("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n          已选择 \n          "),a("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedDiskRowKeys.length))]),e._v("  项\n          "),a("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onDiskClearSelected}},[e._v("清空")])])]),a("a-table",{attrs:{bordered:"",rowSelection:{selectedRowKeys:e.selectedDiskRowKeys,onChange:e.onDiskSelectChange},columns:e.columns,rowKey:function(e){return e.login.uuid},dataSource:e.data,pagination:e.pagination,loading:e.loading}})],1)],1)],1)},p=[],h=a("be94"),v={memory:[{text:"1G",value:"1G"},{text:"2G",value:"2G"},{text:"4G",value:"4G"},{text:"8G",value:"8G"},{text:"12G",value:"12G"},{text:"16G",value:"16G"},{text:"32G",value:"32G"},{text:"48G",value:"48G"},{text:"64G",value:"64G"}],cpu:[{text:"1核",value:"1核"},{text:"2核",value:"2核"},{text:"4核",value:"4核"},{text:"8核",value:"8核"},{text:"12核",value:"12核"},{text:"24核",value:"24核"},{text:"32核",value:"32核"}],mirror:[{text:"Centos6.5_X86_64bit",value:"Centos6.5_X86_64bit"},{text:"Centos6.6_X86_64bit",value:"Centos6.6_X86_64bit"},{text:"Centos7.1_X86_64bit",value:"Centos7.1_X86_64bit"},{text:"Centos7.2_X86_64bit",value:"Centos7.2_X86_64bit"},{text:"Centos7.4_X86_64bit",value:"Centos7.4_X86_64bit"},{text:"Centos7.5_X86_64bit",value:"Centos7.5_X86_64bit"},{text:"Ubuntu14.04_x86_64bit",value:"Ubuntu14.04_x86_64bit"},{text:"Ubuntu16.04_X86_64bit",value:"Ubuntu16.04_X86_64bit"},{text:"Window Server2008 R2 64bit",value:"Window Server2008 R2 64bit"},{text:"Window Server2012 R2 64bit",value:"Window Server2012 R2 64bit"}]},g=[{title:"ID",dataIndex:"cell"},{title:"名称",dataIndex:"name.first"},{title:"大小",dataIndex:"login.password"},{title:"类型",dataIndex:"id.name"},{title:"状态",dataIndex:"name.last"}],b={mounted:function(){this.fetch(),this.form.setFieldsValue({cpu:"1核",memory:"1G",systemDisk:40,area:"1"})},data:function(){return{form:this.$form.createForm(this),labelCol:{span:8},wrapperCol:{span:12},data:[],columns:g,loading:!1,systemDisk:1,optionList:v,pagination:{showSizeChanger:!0},selectedDiskRowKeys:[]}},methods:{handleSubmit:function(){var e=this;this.form.validateFields(function(t,a){if(!t){if(!e.selectedDiskRowKeys.length)return e.$message.warn("请至少选择一个硬盘"),!1;e.$emit("next",{step2:Object.assign({},a,{selectedDiskRowKeys:e.selectedDiskRowKeys})})}})},handleSliderChange:function(e){this.systemDisk=e},handleInputChange:function(e){console.log("changed",e)},onDiskSelectChange:function(e){this.selectedDiskRowKeys=e},onDiskClearSelected:function(){this.selectedDiskRowKeys=[]},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0;var a="https://randomuser.me/api";this.$http.get(a,{params:Object(h["a"])({results:10},t)}).then(function(t){var a=Object(h["a"])({},e.pagination);a.total=200,e.loading=!1,e.data=t.results,e.pagination=a})},handleSelectChange:function(e){console.log(e),this.form.setFieldsValue({note:"Hi, ".concat("male"===e?"man":"lady","!")})}}},w=b,y=(a("d2b2"),Object(u["a"])(w,m,p,!1,null,null,null));y.options.__file="Step1.vue";var x=y.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"16px","margin-left":"16px","text-align":"left"}},[a("span",{staticStyle:{"margin-bottom":"16px"}},[e._v("私有网络：保证租户之间 100% 隔离的专属网络，推荐使用。")]),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"plus"}},[e._v("新建")])],1),a("a-alert",{staticStyle:{"margin-bottom":"16px","text-align":"left"},attrs:{type:"info",showIcon:""}},[a("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n      已选择 \n      "),a("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedNetworkRowKeys.length))]),e._v("  项\n      "),a("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onNetworkClearSelected}},[e._v("清空")])])]),a("a-table",{attrs:{rowSelection:{selectedRowKeys:e.selectedNetworkRowKeys,onChange:e.onNetworkSelectChange},columns:e.columns,rowKey:function(e){return e.login.uuid},dataSource:e.data,pagination:e.pagination,loading:e.loading}})],1)},_=[],S=[{title:"ID",dataIndex:"cell"},{title:"名称",dataIndex:"name.first"},{title:"子网",dataIndex:"login.password"},{title:"类型",dataIndex:"id.name"}],k={mounted:function(){this.fetch()},data:function(){return{data:[],columns:S,loading:!1,pagination:{showSizeChanger:!0},selectedNetworkRowKeys:[]}},methods:{handleSubmit:function(){if(!this.selectedNetworkRowKeys.length)return this.$message.warn("请至少选择一个私有网络"),!1;this.$emit("next",{step3:Object.assign({},{selectedNetworkRowKeys:this.selectedNetworkRowKeys})})},onNetworkSelectChange:function(e){this.selectedNetworkRowKeys=e},onNetworkClearSelected:function(){this.selectedNetworkRowKeys=[]},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0;var a="https://randomuser.me/api";this.$http.get(a,{params:Object(h["a"])({results:10},t)}).then(function(t){var a=Object(h["a"])({},e.pagination);a.total=200,e.loading=!1,e.data=t.results,e.pagination=a})}}},R=k,D=(a("d2ca"),Object(u["a"])(R,C,_,!1,null,null,null));D.options.__file="Step2.vue";var M=D.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"计费方式："}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["payType",{rules:[{required:!0,message:"请选择计费方式!"}]}],expression:"[\n          'payType',\n          {rules: [{ required: true, message: '请选择计费方式!' }]}\n        ]"}],attrs:{buttonStyle:"solid"}},[a("a-radio",{attrs:{value:"1"}},[e._v("按合约计费")]),a("a-radio",{attrs:{value:"2"}},[e._v("按需计费")])],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"主机名称："}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["hostName",{rules:[{required:!0,message:"请填写主机名称!"}]}],expression:"[\n          'hostName',\n          {rules: [{ required: true, message: '请填写主机名称!' }]}\n        ]"}],staticStyle:{width:"250px"},attrs:{placeholder:"请填写主机名称"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"主机数量："}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["hostNum",{rules:[{required:!0,message:"请填写主机数量!"}]}],expression:"[\n          'hostNum',\n          {rules: [{ required: true, message: '请填写主机数量!' }]}\n        ]"}],staticStyle:{width:"250px"},attrs:{min:1,max:10,formatter:function(e){return e?e+" 台":""},parser:function(e){return e.replace(" 台","")}}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"用户名："}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请选择用户名!"}]}],expression:"[\n          'username',\n          {rules: [{ required: true, message: '请选择用户名!' }]}\n        ]"}],staticStyle:{width:"250px"}},[a("a-select-option",{attrs:{value:"jack"}},[e._v("Jack")]),a("a-select-option",{attrs:{value:"lucy"}},[e._v("Lucy")]),a("a-select-option",{attrs:{value:"disabled"}},[e._v("Disabled")]),a("a-select-option",{attrs:{value:"Yiminghe"}},[e._v("yiminghe")])],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"SSH秘钥：",fieldDecoratorId:"SSH"}},[a("div",[a("span",{staticStyle:{"margin-right":"3px"}},[e._v("已有请选择上传")]),a("span",{staticStyle:{"margin-right":"3px"}},[e._v("，如无请")]),a("a",[e._v("新建")])]),a("a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["SSH",{valuePropName:"fileList",getValueFromEvent:e.normFile,rules:[{required:!0,message:"请选择SSH秘钥!"}]}],expression:"['SSH', {\n          valuePropName: 'fileList',\n          getValueFromEvent: normFile,\n          rules: [{  required: true, message: '请选择SSH秘钥!' }]\n        }]"}],attrs:{action:"/",multiple:!0,fileList:e.fileList},on:{change:e.handleFileChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("上传\n        ")],1)],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"用户数据："}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["userData",{rules:[{required:!0,message:"请选择用户数据!"}]}],expression:"[\n          'userData',\n          {rules: [{ required: true, message: '请选择用户数据!' }]}\n        ]"}],on:{change:e.handleUserDataChange}},[a("a-radio",{attrs:{value:1}},[e._v("无")]),a("a-radio",{attrs:{value:2}},[e._v("文本")]),a("a-radio",{attrs:{value:3}},[e._v("可执行文件")])],1)],1),a("a-row",{staticStyle:{"margin-bottom":"24px"}},[a("a-col",{staticStyle:{"text-align":"left"},attrs:{offset:8,span:12}},[a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.userData,expression:"userData == 2"}],attrs:{help:e.customValidateErrors.userDataText?"请填写用户数据!":"",validateStatus:e.customValidateErrors.userDataText?"error":""}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["userDataText"],expression:"[ 'userDataText', ]"}],attrs:{placeholder:"请填写用户数据",rows:4}})],1),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.userData,expression:"userData == 3"}],attrs:{help:e.customValidateErrors.userDataFile?"请上传用户数据文件!":"",validateStatus:e.customValidateErrors.userDataFile?"error":""}},[a("a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["userDataFile",{valuePropName:"fileList",getValueFromEvent:e.normFile}],expression:"['userDataFile', {\n              valuePropName: 'fileList',\n              getValueFromEvent: normFile,\n            }]"}],attrs:{action:"/",multiple:!0,fileList:e.fileList},on:{change:e.handleFileChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("上传\n            ")],1)],1)],1)],1)],1)],1)],1)},$=[],I=a("ade3"),O={data:function(){return{form:this.$form.createForm(this),labelCol:{span:8},wrapperCol:{span:12},fileList:[],userData:0,customValidateErrors:Object(I["a"])({userDataText:!1},"userDataText",!1)}},mounted:function(){this.form.setFieldsValue({payType:"1"})},methods:{handleSubmit:function(){var e=this;this.form.validateFields(function(t,a){e.handleValidateUserData(a),t||e.$emit("submit",{step4:a})})},handleValidateUserData:function(e){2===e.userData?Object.assign(this.customValidateErrors,{userDataText:!e.userDataText,userDataFile:!1}):3===e.userData?Object.assign(this.customValidateErrors,{userDataText:!1,userDataFile:!e.userDataFile}):Object.assign(this.customValidateErrors,{userDataText:!1,userDataFile:!1})},handleUserDataChange:function(e){this.userData=e.target.value},normFile:function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},handleFileChange:function(e){var t=e.fileList;t=t.slice(-2),t=t.map(function(e){return e.response&&(e.url=e.response.url),e}),t=t.filter(function(e){return!e.response||"success"===e.response.status}),this.fileList=t}}},L=O,K=(a("87d3"),Object(u["a"])(L,F,$,!1,null,null,null));K.options.__file="Step3.vue";var j=K.exports,P=a("d8c3"),T={components:{Step0:f,Step1:x,Step2:M,Step3:j,PageLayout:P["a"]},data:function(){return{current:0,steps:[{title:"选择映像",name:"step1"},{title:"配置选择",name:"step2"},{title:"网络设置",name:"step3"},{title:"基本信息",name:"step4"}],values:{},forms:[]}},methods:{handleSubmit:function(e){Object.assign(this.values,e),console.log(this.values),this.$message.success("创建成功！"),this.$router.push({name:"instance"})},nextStep:function(e){this.current++,Object.assign(this.values,e)},handleNextClick:function(){this.$refs["content"+this.current].handleSubmit()},prev:function(){this.current--}}},E=T,G=(a("ef2c"),Object(u["a"])(E,n,o,!1,null,null,null));G.options.__file="Container.vue";t["default"]=G.exports},"599a":function(e,t,a){"use strict";var n=a("eb59"),o=a.n(n);o.a},"5acc":function(e,t,a){"use strict";var n=a("2978"),o=a.n(n);o.a},"5f1b":function(e,t,a){"use strict";var n=a("23c6"),o=RegExp.prototype.exec;e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var r=a.call(e,t);if("object"!==typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"69c7":function(e,t,a){"use strict";a.r(t);var n,o,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PageLayout",[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",{staticStyle:{margin:"0"}},[e._v("镜像（Image） 是基于主流的操作系统的进行定制，用于实例创建的模板。用户也可以基于己有镜像创建主机，也可以将自有主机捕获为新镜像，以备后用。")]),a("a-tabs",{staticStyle:{position:"relative",top:"17px"},attrs:{defaultActiveKey:"1"},on:{change:e.handleTabChange}},[a("a-tab-pane",{key:"1",attrs:{tab:"系统"}}),a("a-tab-pane",{key:"2",attrs:{tab:"自有"}})],1)],1),a("div",{staticClass:"content"},[a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"16px"}},[a("a-row",{attrs:{type:"flex",justify:"space-between"}},[a("a-col",[a("p",{directives:[{name:"show",rawName:"v-show",value:1==e.tabKey,expression:"tabKey == 1"}]},[e._v("系统：是友普官方基于主流的Linux，Windows提供的镜像模板，并与上游厂商的更新保持及时更新。")]),a("p",{directives:[{name:"show",rawName:"v-show",value:2==e.tabKey,expression:"tabKey == 2"}]},[e._v("自有：是用户自己上传或者将云主机制作为镜像模板，用于日后创建云主机使用。")])]),a("a-col",[a("a-row",{attrs:{type:"flex",justify:"space-between"}},[a("edit-modal",{attrs:{obj:e.obj}}),a("create-modal")],1)],1)],1)],1),a("a-alert",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"info",showIcon:""}},[a("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n          已选择 \n          "),a("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("  项\n          "),a("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])])]),a("a-table",{attrs:{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},columns:e.columns,rowKey:function(e){return e.login.uuid},dataSource:e.data,pagination:e.pagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"operation",fn:function(t,n){return[a("span",{attrs:{title:"点击查看镜像属性"},on:{click:function(t){e.handleViewDetail(n)}}},[e._v(e._s(t))])]}}])})],1),a("detail-modal",{attrs:{visible:e.showDetailModal,data:e.selectedRowData},on:{cancel:function(t){e.showDetailModal=!1}}})],1)],1)},i=[],s=(a("f751"),a("be94")),l=(a("cadf"),a("551c"),a("097d"),a("a481"),a("24b4")),c=l["Form"].create()({props:["visible","sourceType","validateUrlPass","validateFilePass"],render:function(){var e=this,t=arguments[0],a=this.form,n=this.visible,o=this.sourceType,r=this.validateUrlPass,i=this.validateFilePass,s=this.handleFileChange,l=this.fileList,c=a.getFieldDecorator;return t("a-modal",{attrs:{visible:n,title:"创建镜像",okText:"创建",bodyStyle:{"max-height":"400px",overflow:"auto"}},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[t("a-form",[t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"名称："}},[c("name",{rules:[{required:!0,message:"请输入镜像名称!"}]})(t("a-input"))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"描述："}},[c("desc",{rules:[{required:!0,message:"请输入描述内容!"}]})(t("a-input"))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"镜像源："}},[c("source",{initialValue:"0",rules:[{required:!0,message:"请选择镜像源!"}]})(t("a-select",{on:{change:function(t){e.$emit("selectSource",t)}},attrs:{placeholder:"请选择镜像源"}},[t("a-select-option",{attrs:{value:"0"}},["镜像文件"]),t("a-select-option",{attrs:{value:"1"}},["镜像地址"])]))]),t("a-form-item",{directives:[{name:"show",value:0==o}],attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"镜像文件：",help:i?"":"请上传镜像地址!",validateStatus:i?"":"error"}},[c("file",{})(t("a-upload",{attrs:{action:"/",multiple:!0,fileList:l},on:{change:s}},[t("a-button",[t("a-icon",{attrs:{type:"upload"}}),"上传"])]))]),t("a-form-item",{directives:[{name:"show",value:1==o}],attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"镜像地址：",help:r?"":"请输入镜像地址!",validateStatus:r?"":"error"}},[c("url",{})(t("a-input",{attrs:{placeholder:"请输入镜像地址"}}))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"镜像格式："}},[c("type",{rules:[{required:!0,message:"请选择镜像格式!"}]})(t("a-select",{attrs:{placeholder:"选择镜像格式"}},[t("a-select-option",{attrs:{value:"QCOW2-QEMU"}},["QCOW2-QEMU"]),t("a-select-option",{attrs:{value:"Docker"}},["Docker"]),t("a-select-option",{attrs:{value:"ISO-光盘镜像"}},["ISO-光盘镜像"]),t("a-select-option",{attrs:{value:"Raw"}},["Raw"]),t("a-select-option",{attrs:{value:"VMDK-Vmware虚拟磁盘"}},["VMDK-Vmware虚拟磁盘"]),t("a-select-option",{attrs:{value:"VHD-Vmware虚拟硬盘"}},["VHD-Vmware虚拟硬盘"])]))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"架构："}},[c("framework",{rules:[{required:!0,message:"请填写架构!"}]})(t("a-input"))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"最小磁盘(GB)："}},[c("minDisk",{rules:[{required:!0,message:"请填写最小磁盘!"}]})(t("a-input-number",{attrs:{min:40,max:200,formatter:function(e){return e?"".concat(e," G"):""},parser:function(e){return e.replace(" G","")}}}))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"最低内存(GB)："}},[c("minMomery",{rules:[{required:!0,message:"请填写最低内存!"}]})(t("a-input-number",{attrs:{min:2,max:100,formatter:function(e){return e?"".concat(e," G"):""},parser:function(e){return e.replace(" G","")}}}))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14,offset:8},label:""}},[c("copy",{})(t("a-checkbox",{attrs:{checked:!0}},["数据复刻"]))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14,offset:8},label:""}},[c("public",{})(t("a-checkbox",["公有"]))])])])}}),u={data:function(){return{visible:!1,fileList:[],sourceType:0,validateUrlPass:!0,validateFilePass:!0}},methods:{showModal:function(){this.visible=!0},handleCancel:function(){this.visible=!1},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(a,n){var o=n.source,r=n.url,i=n.file;0!=o||i||(e.validateFilePass=!1),1!=o||r||(e.validateUrlPass=!1),a||(console.log("Received values of form: ",n),t.resetFields(),e.visible=!1)})},saveFormRef:function(e){this.formRef=e},handleSelectSource:function(e){0==e?this.validateUrlPass=!0:this.validateFilePass=!0,this.sourceType=e},handleFileChange:function(e){var t=e.fileList;t=t.slice(-2),t=t.map(function(e){return e.response&&(e.url=e.response.url),e}),t=t.filter(function(e){return!e.response||"success"===e.response.status}),this.fileList=t}},render:function(){var e=arguments[0];return e("div",[e("a-button",{attrs:{type:"primary",icon:"plus"},style:"margin-right: 10px;",on:{click:this.showModal}},["创建镜像"]),e(c,{attrs:{wrappedComponentRef:this.saveFormRef,visible:this.visible,validateFilePass:this.validateFilePass,validateUrlPass:this.validateUrlPass,sourceType:this.sourceType},on:{cancel:this.handleCancel,create:this.handleCreate,selectSource:this.handleSelectSource}})])}},d=u,f=a("2877"),m=Object(f["a"])(d,n,o,!1,null,null,null);m.options.__file="CreateModal.vue";var p,h,v=m.exports,g=l["Form"].create()({props:["visible"],render:function(){var e=this,t=arguments[0],a=this.visible,n=this.form,o=n.getFieldDecorator;return t("a-modal",{attrs:{visible:a,title:"编辑镜像",okText:"保存编辑"},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[t("a-form",[t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"名称："}},[o("名称",{rules:[{required:!0,message:"请填写名称!"}]})(t("a-input"))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"描述："}},[o("描述",{rules:[{required:!0,message:"请填写描述!"}]})(t("a-input"))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"镜像格式："}},[o("镜像格式",{rules:[{required:!0,message:"请选择镜像格式!"}]})(t("a-select",[t("a-select-option",{attrs:{value:"jack"}},["Jack"]),t("a-select-option",{attrs:{value:"lucy"}},["Lucy"]),t("a-select-option",{attrs:{value:"Yiminghe"}},["yiminghe"])]))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"最小磁盘(GB)："}},[o("minDisk",{rules:[{required:!0,message:"请填写最小磁盘!"}]})(t("a-input-number",{attrs:{min:40,max:200,formatter:function(e){return e?"".concat(e," G"):""},parser:function(e){return e.replace(" G","")}}}))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"最低内存(GB)："}},[o("minMomery",{rules:[{required:!0,message:"请填写最低内存!"}]})(t("a-input-number",{attrs:{min:2,max:100,formatter:function(e){return e?"".concat(e," G"):""},parser:function(e){return e.replace(" G","")}}}))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14,offset:8},label:""}},[o("public",{})(t("a-checkbox",["公有"]))])])])}}),b={data:function(){return{visible:!1}},props:["obj"],mounted:function(){var e=this.formRef.form;e.setFieldsValue(this.obj||{})},methods:{showModal:function(){this.visible=!0},handleCancel:function(){this.visible=!1},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(a,n){a||(console.log("Received values of form: ",n),t.resetFields(),e.visible=!1)})},saveFormRef:function(e){this.formRef=e}},render:function(){var e=arguments[0];return e("div",[e("a-button",{attrs:{type:"primary",icon:"edit"},style:"margin-right: 10px;",on:{click:this.showModal}},["编辑镜像"]),e(g,{attrs:{wrappedComponentRef:this.saveFormRef,visible:this.visible},on:{cancel:this.handleCancel,create:this.handleCreate}})])}},w=b,y=Object(f["a"])(w,p,h,!1,null,null,null);y.options.__file="EditModal.vue";var x=y.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"基本属性",okText:"确定",visible:e.visible,bodyStyle:{"max-height":"500px",overflow:"auto"},confirmLoading:e.confirmLoading},on:{cancel:function(t){e.$emit("cancel")},ok:function(t){e.$emit("cancel")}}},[a("a-table",{attrs:{columns:e.columns,dataSource:e.data,bordered:""}})],1)},_=[],S=function(e,t,a){var n={children:e,attrs:{}};return 4===a&&(n.attrs.colSpan=0),n},k=[{key:"1",name:"John Brown",age:32},{key:"2",name:"Jim Green",age:42},{key:"3",name:"Joe Black",age:32},{key:"4",name:"Jim Red",age:18},{key:"5",name:"Jake White",age:18}],R={props:["record","visible"],data:function(){var e=this.$createElement,t=[{title:"Name",dataIndex:"name",customRender:function(t,a,n){return n<4?e("a",{attrs:{href:"javascript:;"}},[t]):{children:e("a",{attrs:{href:"javascript:;"}},[t]),attrs:{colSpan:5}}}},{title:"Age",dataIndex:"age",customRender:S}];return{data:k,columns:t,confirmLoading:!1}},methods:{handleCancel:function(){this.$emit("cancel")},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(t,a){t||(console.log("Received values of form: ",a),e.submit(a))})},submit:function(e){var t=this,a=this.formRef.form;this.confirmLoading=!0,setTimeout(function(){t.confirmLoading=!1,a.resetFields(),t.$emit("success")},2e3)}}},D=R,M=Object(f["a"])(D,C,_,!1,null,null,null);M.options.__file="DetailModal.vue";var F=M.exports,$=a("d8c3"),I=[{title:"ID",dataIndex:"cell",scopedSlots:{customRender:"operation"}},{title:"名称",dataIndex:"name.first"},{title:"状态",dataIndex:"phone",filters:[{text:"状态",value:"状态"},{text:"等待中",value:"等待中"},{text:"运行中",value:"运行中"},{text:"已暂停",value:"已暂停"},{text:"已关闭",value:"已关闭"},{text:"已删除",value:"已删除"},{text:"重启中",value:"重启中"}],filterMultiple:!1},{title:"容量（G)",dataIndex:"id.name"},{title:"平台",dataIndex:"id.value"}],O={components:{CreateModal:v,EditModal:x,DetailModal:F,PageLayout:$["a"]},mounted:function(){this.fetch()},data:function(){return{tabKey:1,obj:{"名称":"aaa1231313aaa","描述":"bbbb",minMomery:"22",minDisk:"42","镜像格式":"Yiminghe"},data:[],pagination:{showSizeChanger:!0},loading:!1,columns:I,selectedRowKeys:[],showDetailModal:!1,selectedRowData:{}}},computed:{message:function(){var e=this.selectedRowKeys.length;return"已选择 ".concat(e," 项")}},methods:{handleTableChange:function(e,t,a){var n=Object(s["a"])({},this.pagination);n.current=e.current,this.pagination=n,this.fetch(Object(s["a"])({results:e.pageSize,page:e.current,sortField:a.field,sortOrder:a.order},t))},handleTabChange:function(e){console.log("=========="),console.log(e),this.tabKey=e,console.log("==========")},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0;var a="https://randomuser.me/api";this.$http.get(a,{params:Object(s["a"])({results:10},t)}).then(function(t){var a=Object(s["a"])({},e.pagination);a.total=200,e.loading=!1,e.data=t.results,e.pagination=a})},onSelectChange:function(e){this.selectedRowKeys=e},onClearSelected:function(){this.selectedRowKeys=[]},handleViewDetail:function(e){console.log(e),Object.assign(this.selectedRowData,e),this.showDetailModal=!0}}},L=O,K=(a("260d"),Object(f["a"])(L,r,i,!1,null,null,null));K.options.__file="Container.vue";t["default"]=K.exports},"6b54":function(e,t,a){"use strict";a("3846");var n=a("cb7c"),o=a("0bfb"),r=a("9e1e"),i="toString",s=/./[i],l=function(e){a("2aba")(RegExp.prototype,i,e,!0)};a("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?l(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?o.call(e):void 0)}):s.name!=i&&l(function(){return s.call(this)})},7767:function(e,t,a){},"796c":function(e,t,a){"use strict";var n=a("9013"),o=a.n(n);o.a},"83d0":function(e,t,a){},"87d3":function(e,t,a){"use strict";var n=a("83d0"),o=a.n(n);o.a},"897e":function(e,t,a){"use strict";a.r(t);var n,o,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PageLayout",[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",[e._v("如果您使用的是 Linux 主机，强烈建议使用 SSH 公钥/私钥 （Keypair）进行远程登录身份验证。您可以创建一个 SSH 密钥，并立刻下载其私钥。请保管好私钥，因为 YPCloud 是不保存您的私钥的。")])]),a("div",{staticClass:"content"},[a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"16px"}},[a("a-row",{attrs:{type:"flex",justify:"space-between"}},[a("a-col",[a("a-row",{attrs:{type:"flex",justify:"space-between"}},[a("create-modal",{on:{showDownload:function(t){e.showDownloadModal=!0}}}),a("import-modal",{attrs:{obj:e.obj}}),a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},on:{click:e.handleMenuClick},slot:"overlay"},[a("a-menu-item",{key:"1"},[e._v("删除")]),a("a-menu-item",{key:"2"},[e._v("绑定标签")])],1),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"}},[e._v("批量操作\n                  "),a("a-icon",{attrs:{type:"down"}})],1)],1)],1)],1),a("a-col",[a("a-row",{attrs:{type:"flex",justify:"space-between"}})],1)],1)],1),a("a-alert",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"info",showIcon:""}},[a("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n          已选择 \n          "),a("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("  项\n          "),a("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])])]),a("a-table",{attrs:{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},columns:e.columns,rowKey:function(e){return e.cell},dataSource:e.data,pagination:e.pagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"operation",fn:function(t,n){return[a("a-dropdown",{staticStyle:{"margin-right":"10px"}},[a("a-menu",{attrs:{slot:"overlay"},on:{click:function(t){e.handleSingleMenuClick(n,t)}},slot:"overlay"},[a("a-menu-item",{key:"1"},[e._v("修改")]),a("a-menu-item",{key:"2",attrs:{disabled:e._f("downloadable")(n)}},[e._v("下载")])],1),a("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("操作\n              "),a("a-icon",{attrs:{type:"down"}})],1)],1)]}}])})],1)]),a("a-modal",{attrs:{title:"下载密钥对",okText:"下载",visible:e.showDownloadModal,confirmLoading:e.confirmLoading},on:{ok:e.handleDownloadModalOk,cancel:function(t){e.showDownloadModal=!1}}},[a("p",[e._v("通过点击“下载”按钮，可以获取私钥，此下载链接将保留5分钟。")])]),a("tag-modal",{attrs:{visible:e.showTagModal},on:{cancel:function(t){e.showTagModal=!1}}}),a("edit-modal",{attrs:{visible:e.showEditModal},on:{cancel:function(t){e.showEditModal=!1}}})],1)},i=[],s=(a("ac6a"),a("20d6"),a("be94")),l=(a("cadf"),a("551c"),a("097d"),a("24b4")),c=l["Form"].create()({props:["visible"],render:function(){var e=this,t=arguments[0],a=this.visible,n=this.form,o=n.getFieldDecorator;return t("a-modal",{attrs:{visible:a,title:"创建密钥对",okText:"创建",bodyStyle:{"max-height":"400px",overflow:"auto"}},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[t("a-form",[t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"名称："}},[o("名称",{rules:[{required:!0,message:"请输入名称!"}]})(t("a-input"))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"加密方式："}},[o("加密方式",{rules:[{required:!0,message:"请选择加密方式!"}]})(t("a-select",[t("a-select-option",{attrs:{value:"ssh-rsa"}},["ssh-rsa"]),t("a-select-option",{attrs:{value:"ssh-dss"}},["ssh-dss"])]))])])])}}),u={data:function(){return{visible:!1}},methods:{showModal:function(){this.visible=!0},handleCancel:function(){this.visible=!1},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(a,n){a||(console.log("Received values of form: ",n),t.resetFields(),e.visible=!1,e.$emit("showDownload"))})},saveFormRef:function(e){this.formRef=e}},render:function(){var e=arguments[0];return e("div",[e("a-button",{attrs:{type:"primary",icon:"plus"},style:"margin-right: 10px;",on:{click:this.showModal}},["创建"]),e(c,{attrs:{wrappedComponentRef:this.saveFormRef,visible:this.visible},on:{cancel:this.handleCancel,create:this.handleCreate}})])}},d=u,f=a("2877"),m=Object(f["a"])(d,n,o,!1,null,null,null);m.options.__file="CreateModal.vue";var p,h,v=m.exports,g=l["Form"].create()({props:["visible"],render:function(){var e=this,t=arguments[0],a=this.visible,n=this.form,o=n.getFieldDecorator;return t("a-modal",{attrs:{visible:a,title:"修改秘钥属性",okText:"提交",bodyStyle:{"max-height":"400px",overflow:"auto"}},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[t("a-form",[t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"秘钥名称："}},[o("秘钥名称",{rules:[{required:!0,message:"请输入秘钥名称!"}]})(t("a-input"))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"描述："}},[o("描述",{rules:[{required:!0,message:"请填写描述!"}]})(t("a-textarea",{attrs:{placeholder:"描述"}}))])])])}}),b={props:["visible"],data:function(){return{}},methods:{handleCancel:function(){this.$emit("cancel")},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(a,n){a||(console.log("Received values of form: ",n),t.resetFields(),e.$emit("cancel"))})},saveFormRef:function(e){this.formRef=e}},render:function(){var e=arguments[0];return e("div",[e(g,{attrs:{wrappedComponentRef:this.saveFormRef,visible:this.visible},on:{cancel:this.handleCancel,create:this.handleCreate}})])}},w=b,y=Object(f["a"])(w,p,h,!1,null,null,null);y.options.__file="EditModal.vue";var x,C,_=y.exports,S=l["Form"].create()({props:["visible"],render:function(){var e=this,t=arguments[0],a=this.visible,n=this.form,o=n.getFieldDecorator;return t("a-modal",{attrs:{visible:a,title:"密钥标签",okText:"确定",bodyStyle:{"max-height":"400px",overflow:"auto"}},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[t("a-form",[t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"标签名："}},[o("标签名",{rules:[{required:!0,message:"请输入标签名!"}]})(t("a-input"))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"描述："}},[o("描述",{rules:[{required:!0,message:"请输入描述!"}]})(t("a-textarea"))])])])}}),k={props:["visible"],data:function(){return{}},methods:{handleCancel:function(){this.$emit("cancel")},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(a,n){a||(console.log("Received values of form: ",n),t.resetFields(),e.$emit("cancel"))})},saveFormRef:function(e){this.formRef=e}},render:function(){var e=arguments[0];return e("div",[e(S,{attrs:{wrappedComponentRef:this.saveFormRef,visible:this.visible},on:{cancel:this.handleCancel,create:this.handleCreate}})])}},R=k,D=Object(f["a"])(R,x,C,!1,null,null,null);D.options.__file="TagModal.vue";var M,F,$=D.exports,I=l["Form"].create()({props:["visible"],render:function(){var e=this,t=arguments[0],a=this.visible,n=this.form,o=n.getFieldDecorator;return t("a-modal",{attrs:{visible:a,title:"导入密钥对",okText:"保存"},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[t("a-form",[t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"密钥对名称："}},[o("密钥对名称",{rules:[{required:!0,message:"请输入密钥对名称!"}]})(t("a-input"))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"公钥："}},[o("公钥",{rules:[{required:!0,message:"请在此粘贴您的SSH公钥!"}]})(t("a-textarea",{attrs:{placeholder:"请在此粘贴您的SSH公钥"}}))])]),t("a-row",[t("a-col",{attrs:{span:8}}),t("a-col",{attrs:{span:14}},[t("a-popover",{attrs:{title:"说明："}},[t("template",{slot:"content"},[t("p",["密钥对是用来登录您创建的云主机的式。为密钥对取一个方便您自己辨别的名字，然后在下方提供的空间内粘贴您的SSH公钥。"]),t("p",["可以使用 ssh-keygen 命令来生成SSH密钥对：",t("pre",{class:"code"},["ssh-keygen -t rsa -f cloud.key"])]),t("p",["这将生成一对密钥对：一个私钥 (cloud.key)和一个公钥(cloud.key.pub)。请妥善保存好您的私钥，并把公钥文件内容粘贴在这里。"]),t("p",["创建云主机后，你使用私钥来登录云主机(登陆用户名取决您所用的镜像)："]),t("p",[t("pre",{class:"code"},["ssh -i cloud.key <username>@<instance_ip>"])])]),t("span",["了解更多",t("a-icon",{style:"margin-left: 5px;",attrs:{type:"question-circle-o"}})])])])])])}}),O={data:function(){return{visible:!1}},mounted:function(){},methods:{showModal:function(){this.visible=!0},handleCancel:function(){this.visible=!1},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(a,n){a||(console.log("Received values of form: ",n),t.resetFields(),e.visible=!1)})},saveFormRef:function(e){this.formRef=e}},render:function(){var e=arguments[0];return e("div",[e("a-button",{attrs:{type:"primary",icon:"upload"},style:"margin-right: 10px;",on:{click:this.showModal}},["导入密钥对"]),e(I,{attrs:{wrappedComponentRef:this.saveFormRef,visible:this.visible},on:{cancel:this.handleCancel,create:this.handleCreate}})])}},L=O,K=(a("de000"),Object(f["a"])(L,M,F,!1,null,null,null));K.options.__file="ImportModal.vue";var j=K.exports,P=a("d8c3"),T=[{title:"名称",dataIndex:"name.first"},{title:"创建时间",dataIndex:"phone"},{title:"加密方法",dataIndex:"id.name"},{title:"所属项目",dataIndex:"id.value"},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"}}],E={components:{CreateModal:v,EditModal:_,TagModal:$,ImportModal:j,PageLayout:P["a"]},mounted:function(){this.fetch()},data:function(){return{tabKey:1,confirmLoading:!1,showTagModal:!1,showEditModal:!1,showDownloadModal:!1,obj:{"名称":"aaa1231313aaa","描述":"bbbb","最低内存":"dddddd","最小磁盘":"ccccc","镜像格式":"Yiminghe"},data:[],pagination:{showSizeChanger:!0},loading:!1,columns:T,selectedRowKeys:[]}},computed:{message:function(){var e=this.selectedRowKeys.length;return"已选择 ".concat(e," 项")}},filters:{downloadable:function(e){return Math.random()>.5}},methods:{handleTableChange:function(e,t,a){var n=Object(s["a"])({},this.pagination);n.current=e.current,this.pagination=n,this.fetch(Object(s["a"])({results:e.pageSize,page:e.current,sortField:a.field,sortOrder:a.order},t))},handleBatchDelete:function(){var e=this,t=this.$createElement,a=t("ul",this.selectedRowKeys.map(function(e){return t("li",e)}));this.$confirm({title:"您已经选择了下列密钥，删除前请确认你已经备份该秘钥，或者确定已不再使用该秘钥。",content:a,iconType:"warning",okText:"删除",okType:"danger",onOk:function(){return new Promise(function(e,t){setTimeout(e,1e3)}).then(function(){var t=e.selectedRowKeys.map(function(t){return e.data.findIndex(function(e){return e.cell==t})});e._deleteData(t)}).catch(function(){return console.log("Oops errors!")})},onCancel:function(){}})},handleMenuClick:function(e){var t=e.key;if(0!==this.selectedRowKeys.length)switch(t){case"1":this.handleBatchDelete();break;case"2":this.showTagModal=!0;break;default:break}else this.$message.info("请先选择您要操作的实例")},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0;var a="https://randomuser.me/api";this.$http.get(a,{params:Object(s["a"])({results:10},t)}).then(function(t){var a=Object(s["a"])({},e.pagination);a.total=200,e.loading=!1,e.data=t.results,e.pagination=a})},onSelectChange:function(e){this.selectedRowKeys=e},onClearSelected:function(){this.selectedRowKeys=[]},handleDeleteModalOk:function(){},handleEdit:function(e){console.log(e),this.showEditModal=!0},handleDownload:function(e){console.log(e),this.showDownloadModal=!0},handleDownloadModalOk:function(){this.showDownloadModal=!1},handleSingleMenuClick:function(e,t){var a=t.key;switch(console.log(e,a),a){case"1":this.showEditModal=!0;break;case"2":this.showDownloadModal=!0;break;default:break}},_deleteData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var a=t.map(function(e,t){return e-t}),n=a.map(function(t){var a=e.data[t].cell;return e.data.splice(t,1),a});this.$message.success("删除成功！"),this._updateSelectedRowKeys(n)}},_updateSelectedRowKeys:function(e){var t=this;e.forEach(function(e){var a=t.selectedRowKeys.findIndex(function(t){return t===e});-1!==a&&t.selectedRowKeys.splice(a,1)})}}},G=E,N=(a("99ca"),Object(f["a"])(G,r,i,!1,null,null,null));N.options.__file="Container.vue";t["default"]=N.exports},9013:function(e,t,a){},"989a":function(e,t,a){"use strict";var n=a("d8d0"),o=a.n(n);o.a},"99ca":function(e,t,a){"use strict";var n=a("7767"),o=a.n(n);o.a},a481:function(e,t,a){"use strict";var n=a("cb7c"),o=a("4bf8"),r=a("9def"),i=a("4588"),s=a("0390"),l=a("5f1b"),c=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};a("214f")("replace",2,function(e,t,a,h){return[function(n,o){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r,o):a.call(String(r),n,o)},function(e,t){var o=h(a,e,this,t);if(o.done)return o.value;var d=n(e),f=String(this),m="function"===typeof t;m||(t=String(t));var g=d.global;if(g){var b=d.unicode;d.lastIndex=0}var w=[];while(1){var y=l(d,f);if(null===y)break;if(w.push(y),!g)break;var x=String(y[0]);""===x&&(d.lastIndex=s(f,r(d.lastIndex),b))}for(var C="",_=0,S=0;S<w.length;S++){y=w[S];for(var k=String(y[0]),R=c(u(i(y.index),f.length),0),D=[],M=1;M<y.length;M++)D.push(p(y[M]));var F=y.groups;if(m){var $=[k].concat(D,R,f);void 0!==F&&$.push(F);var I=String(t.apply(void 0,$))}else I=v(k,f,R,D,F,t);R>=_&&(C+=f.slice(_,R)+I,_=R+k.length)}return C+f.slice(_)}];function v(e,t,n,r,i,s){var l=n+e.length,c=r.length,u=m;return void 0!==i&&(i=o(i),u=f),a.call(s,u,function(a,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(l);case"<":s=i[o.slice(1,-1)];break;default:var u=+o;if(0===u)return o;if(u>c){var f=d(u/10);return 0===f?o:f<=c?void 0===r[f-1]?o.charAt(1):r[f-1]+o.charAt(1):o}s=r[u-1]}return void 0===s?"":s})}})},b0c5:function(e,t,a){"use strict";var n=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},b691:function(e,t,a){},c01d:function(e,t,a){"use strict";a.r(t);var n,o,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-layout",[a("div",{staticClass:"content"},[a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"16px"}},[a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleCreate}},[e._v("新建")]),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"play-circle",disabled:""}},[e._v("启动")]),a("a-button",{staticClass:"shut-down",staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"poweroff",disabled:""}},[e._v("关机")]),a("a-dropdown",{staticStyle:{"margin-right":"10px"}},[a("a-menu",{attrs:{slot:"overlay"},on:{click:e.handleBatchMenuClick},slot:"overlay"},e._l(e.batchOperations,function(t,n){return a("a-menu-item",{key:n},[e._v(e._s(t.text))])}),1),a("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("批量操作\n            "),a("a-icon",{attrs:{type:"down"}})],1)],1),a("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"input search text",enterButton:""},on:{search:e.onSearch}})],1),a("a-alert",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"info",showIcon:""}},[a("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n          已选择 \n          "),a("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("  项\n          "),a("a",{directives:[{name:"show",rawName:"v-show",value:e.selectedRowKeys.length,expression:"selectedRowKeys.length"}],staticStyle:{"margin-left":"24px"},on:{click:function(t){e.selectedRowKeys=[]}}},[e._v("清空")])])]),a("a-table",{attrs:{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},columns:e.columns,rowKey:function(e){return e.cell},dataSource:e.data,pagination:e.pagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"name",fn:function(t){return[e._v(e._s(t.first)+" "+e._s(t.last))]}},{key:"operation",fn:function(t,n){return[a("a-dropdown",{staticStyle:{"margin-right":"10px"}},[a("a-menu",{attrs:{slot:"overlay"},on:{click:function(t){e.handleSingleMenuClick(n,t)}},slot:"overlay"},e._l(e.singleOperations,function(t,n){return a("a-menu-item",{key:n},[e._v(e._s(t.text))])}),1),a("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("操作\n              "),a("a-icon",{attrs:{type:"down"}})],1)],1)]}}])})],1),a("create-snapshoot-modal",{attrs:{visible:e.singleOperations[0].showModal,data:e.selectedRowData},on:{cancel:function(t){e.singleOperations[0].showModal=!1},success:e.update}}),a("bind-IP-modal",{attrs:{visible:e.singleOperations[1].showModal,data:e.selectedRowData},on:{cancel:function(t){e.singleOperations[1].showModal=!1},success:e.update,allotIP:function(t){e.singleOperations[1].showModal=!1,e.showAllotIPModal=!0}}}),a("allot-IP-modal",{attrs:{visible:e.showAllotIPModal,data:e.selectedRowData},on:{cancel:function(t){e.showAllotIPModal=!1},success:e.update}}),a("rebuild-cloud-host-modal",{attrs:{visible:e.singleOperations[4].showModal,data:e.selectedRowData},on:{cancel:function(t){e.singleOperations[4].showModal=!1},success:e.update}}),a("edit-security-group-modal",{attrs:{visible:e.singleOperations[5].showModal,data:e.selectedRowData},on:{cancel:function(t){e.singleOperations[5].showModal=!1},success:e.update}}),a("overview-modal",{attrs:{visible:e.singleOperations[7].showModal,data:e.selectedRowData},on:{cancel:function(t){e.singleOperations[7].showModal=!1},success:e.update}})],1)],1)},i=[],s=(a("ac6a"),a("7f7f"),a("20d6"),a("96cf"),a("1da1")),l=a("be94"),c=(a("cadf"),a("551c"),a("097d"),a("d8c3")),u=a("24b4"),d=u["Form"].create()({props:["visible","confirmLoading"],render:function(){var e=this,t=arguments[0],a=this.visible,n=this.form,o=this.confirmLoading,r=n.getFieldDecorator;return t("a-modal",{attrs:{visible:a,title:"创建快照",okText:o?"创建中":"创建",bodyStyle:{"max-height":"500px",overflow:"auto"},confirmLoading:o},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[t("a-alert",{attrs:{message:"说明：快照是保存了运行中云主机的磁盘状态的镜像。",type:"info",showIcon:!0},style:"margin-bottom: 10px;"}),t("a-form",[t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"快照名称："}},[r("快照名称",{rules:[{required:!0,message:"请输入快照名称！"}]})(t("a-input"))])])])}}),f={props:["record","visible"],data:function(){return{confirmLoading:!1}},methods:{handleCancel:function(){this.$emit("cancel")},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(t,a){t||(console.log("Received values of form: ",a),e.submit(a))})},submit:function(e){var t=this,a=this.formRef.form;this.confirmLoading=!0,setTimeout(function(){t.confirmLoading=!1,a.resetFields(),t.$emit("success")},2e3)},saveFormRef:function(e){this.formRef=e}},render:function(){var e=arguments[0];return e("div",[e(d,{attrs:{wrappedComponentRef:this.saveFormRef,visible:this.visible,confirmLoading:this.confirmLoading},on:{cancel:this.handleCancel,create:this.handleCreate}})])}},m=f,p=a("2877"),h=Object(p["a"])(m,n,o,!1,null,null,null);h.options.__file="CreateSnapshootModal.vue";var v,g,b=h.exports,w=u["Form"].create()({props:["visible","confirmLoading"],render:function(){var e=this,t=arguments[0],a=this.visible,n=this.form,o=this.confirmLoading,r=n.getFieldDecorator;return t("a-modal",{attrs:{visible:a,title:"绑定IP",okText:o?"绑定中":"绑定",bodyStyle:{"max-height":"500px",overflow:"auto"},confirmLoading:o},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[t("a-form",[t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"IP地址："}},[r("IP地址",{rules:[{required:!0,message:"请选择IP地址！"}]})(t("a-select",{class:"container-----",attrs:{placeholder:"请选择一个IP地址"}},[t("a-select-option",{attrs:{value:"jack"}},["Jack"]),t("a-select-option",{attrs:{value:"lucy"}},["Lucy"]),t("a-icon",{slot:"suffixIcon",class:"addonAfter",attrs:{title:"分配公网IP",type:"plus-circle"},on:{click:function(t){return t.stopPropagation(),e.$emit("allotIP"),!1}}})]))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"待绑定的IP接口："}},[r("待绑定的IP接口",{rules:[{required:!0,message:"请选择一个接口！"}]})(t("a-select",{attrs:{placeholder:"请选择一个接口"}},[t("a-select-option",{attrs:{value:"Jack"}},["Jack"]),t("a-select-option",{attrs:{value:"lucyx"}},["Lucy"])]))])])])}}),y={props:["record","visible"],data:function(){return{confirmLoading:!1}},methods:{handleCancel:function(){this.$emit("cancel")},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(t,a){t||(console.log("Received values of form: ",a),e.submit(a))})},submit:function(e){var t=this,a=this.formRef.form;this.confirmLoading=!0,setTimeout(function(){t.confirmLoading=!1,a.resetFields(),t.$emit("success")},2e3)},saveFormRef:function(e){this.formRef=e}},render:function(){var e=this,t=arguments[0];return t("div",[t(w,{attrs:{wrappedComponentRef:this.saveFormRef,visible:this.visible,confirmLoading:this.confirmLoading},on:{cancel:this.handleCancel,create:this.handleCreate,allotIP:function(){e.$emit("allotIP")}}})])}},x=y,C=(a("796c"),Object(p["a"])(x,v,g,!1,null,null,null));C.options.__file="BindIPModal.vue";var _,S,k=C.exports,R=(a("a481"),u["Form"].create()({props:["visible","minBandwidth","confirmLoading"],render:function(){var e=this,t=arguments[0];console.log("render");var a=this.visible,n=this.form,o=this.minBandwidth,r=this.confirmLoading,i=n.getFieldDecorator,s=function(t){console.log(t),e.$emit("updateMinBandwidth",t),n.setFieldsValue({minBandwidth:t}),console.log("minBandwidth",o)},l=function(t){console.log(t),e.$emit("updateMinBandwidth",t),console.log("minBandwidth",o)};return t("a-modal",{attrs:{visible:a,title:"分配公网IP",okText:r?"分配中":"分配",bodyStyle:{"max-height":"500px",overflow:"auto"},confirmLoading:r},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[t("a-alert",{attrs:{message:"说明：从指定的公网IP池中分配一个地址",type:"info",showIcon:!0},style:"margin-bottom: 10px;"}),t("a-form",[t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"资源池："}},[i("资源池",{rules:[{required:!0,message:"请选择资源池！"}],initialValue:"external_net"})(t("a-select",{attrs:{placeholder:"请选择资源池"}},[t("a-select-option",{attrs:{value:"external_net"}},["external_net"]),t("a-select-option",{attrs:{value:"external_IPV6"}},["external_IPV6"])]))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"描述："}},[i("描述",{rules:[{required:!0,message:"请填写描述!"}]})(t("a-textarea",{attrs:{placeholder:"描述"}}))]),t("div",{class:"form-item-container"},[t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"带宽(Mbps)："}},[i("minBandwidth",{rules:[{required:!0,message:"请填写带宽!"}]})(t("a-slider",{attrs:{min:1,max:50,tipFormatter:function(e){return"".concat(e,"Mb")}},on:{change:l}}))]),t("a-input-number",{class:"input-number",attrs:{min:1,max:50,value:o,formatter:function(e){return e?"".concat(e," Mb"):""},parser:function(e){return e.replace(" Mb","")}},on:{change:s}})])])])}})),D={props:["record","visible"],data:function(){return{confirmLoading:!1,minBandwidth:1}},methods:{handleCancel:function(){this.$emit("cancel")},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(t,a){t||(console.log("Received values of form: ",a),e.submit(a))})},submit:function(e){var t=this,a=this.formRef.form;this.confirmLoading=!0,setTimeout(function(){t.confirmLoading=!1,a.resetFields(),t.$emit("success")},2e3)},saveFormRef:function(e){this.formRef=e}},render:function(){var e=this,t=arguments[0];return t("div",[t(R,{attrs:{wrappedComponentRef:this.saveFormRef,visible:this.visible,minBandwidth:this.minBandwidth,confirmLoading:this.confirmLoading},on:{cancel:this.handleCancel,create:this.handleCreate,updateMinBandwidth:function(t){return e.minBandwidth=t}}})])}},M=D,F=(a("f255"),Object(p["a"])(M,_,S,!1,null,null,null));F.options.__file="AllotIPModal.vue";var $,I,O=F.exports,L=u["Form"].create()({props:["visible","confirmLoading"],render:function(){var e=this,t=arguments[0],a=this.visible,n=this.form,o=this.confirmLoading,r=n.getFieldDecorator;return t("a-modal",{attrs:{visible:a,title:"重建云主机",okText:o?"重建中":"重建",bodyStyle:{"max-height":"500px",overflow:"auto"},confirmLoading:o},on:{cancel:function(){e.$emit("cancel")},ok:function(){e.$emit("create")}}},[t("a-form",[t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"选择镜像："}},[r("镜像",{rules:[{required:!0,message:"请选择镜像！"}]})(t("a-select",{attrs:{placeholder:"请选择一个镜像"}},[t("a-select-option",{attrs:{value:"Centos6.5"}},["Centos6.5"]),t("a-select-option",{attrs:{value:"Centos7.4"}},["Centos7.4"]),t("a-select-option",{attrs:{value:"Centos7.5"}},["Centos7.5"]),t("a-select-option",{attrs:{value:"Ubuntu14.04"}},["Ubuntu14.04"]),t("a-select-option",{attrs:{value:"Ubuntu16.04"}},["Ubuntu16.04"])]))]),t("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"磁盘分区："}},[r("磁盘分区",{rules:[{required:!0,message:"请选择一种方式！"}]})(t("a-select",{attrs:{placeholder:"请选择一种方式"}},[t("a-select-option",{attrs:{value:"0"}},["自动"]),t("a-select-option",{attrs:{value:"1"}},["手动"])]))])])])}}),K={props:["record","visible"],data:function(){return{confirmLoading:!1}},methods:{handleCancel:function(){this.$emit("cancel")},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(t,a){t||(console.log("Received values of form: ",a),e.submit(a))})},submit:function(e){var t=this,a=this.formRef.form;this.confirmLoading=!0,setTimeout(function(){t.confirmLoading=!1,a.resetFields(),t.$emit("success")},2e3)},saveFormRef:function(e){this.formRef=e}},render:function(){var e=arguments[0];return e("div",[e(L,{attrs:{wrappedComponentRef:this.saveFormRef,visible:this.visible,confirmLoading:this.confirmLoading},on:{cancel:this.handleCancel,create:this.handleCreate}})])}},j=K,P=Object(p["a"])(j,$,I,!1,null,null,null);P.options.__file="RebuildCloudHostModal.vue";var T=P.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"编辑云主机安全组",okText:"确定",visible:e.visible,bodyStyle:{"max-height":"500px",overflow:"auto"},confirmLoading:e.confirmLoading},on:{cancel:function(t){e.$emit("cancel")},ok:function(t){e.$emit("create")}}},[a("a-transfer",{attrs:{dataSource:e.mockData,titles:["全部安全组","云主机安全组"],targetKeys:e.targetKeys,selectedKeys:e.selectedKeys,render:function(e){return e.title}},on:{change:e.handleChange,selectChange:e.handleSelectChange,scroll:e.handleScroll}})],1)},G=[];function N(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function q(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function B(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function V(e){return N(e)||q(e)||B()}a("6b54");var U={props:["record","visible"],data:function(){for(var e=[],t=0;t<20;t++)e.push({key:t.toString(),title:"content".concat(t+1),description:"description of content".concat(t+1),disabled:t%3<1});var a=e.filter(function(e){return+e.key%3>1}).map(function(e){return e.key});return{mockData:e,targetKeys:a,selectedKeys:["1","4"],confirmLoading:!1}},methods:{handleChange:function(e,t,a){this.targetKeys=e,console.log("targetKeys: ",this.targetKeys),console.log("direction: ",t),console.log("moveKeys: ",a)},handleSelectChange:function(e,t){this.selectedKeys=V(e).concat(V(t)),console.log("sourceSelectedKeys: ",e),console.log("targetSelectedKeys: ",t)},handleScroll:function(e,t){console.log("direction:",e),console.log("target:",t.target)},handleCancel:function(){this.$emit("cancel")},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(t,a){t||(console.log("Received values of form: ",a),e.submit(a))})},submit:function(e){var t=this,a=this.formRef.form;this.confirmLoading=!0,setTimeout(function(){t.confirmLoading=!1,a.resetFields(),t.$emit("success")},2e3)}}},X=U,A=Object(p["a"])(X,E,G,!1,null,null,null);A.options.__file="EditSecurityGroupModal.vue";var H=A.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"云主机/bkv4 概况",okText:"确定",visible:e.visible,bodyStyle:{"max-height":"500px",overflow:"auto"},confirmLoading:e.confirmLoading},on:{cancel:function(t){e.$emit("cancel")},ok:function(t){e.$emit("cancel")}}},[a("a-table",{attrs:{columns:e.columns,dataSource:e.data,bordered:""},scopedSlots:e._u([{key:"name",fn:function(t){return[a("a",{attrs:{href:"javascript:;"}},[e._v(e._s(t))])]}},{key:"action",fn:function(t,n){return[a("span",[a("a",{attrs:{href:"javascript:;"}},[e._v("Action 一 "+e._s(n.name))]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"}},[e._v("Delete")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{staticClass:"ant-dropdown-link",attrs:{href:"javascript:;"}},[e._v("More actions\n          "),a("a-icon",{attrs:{type:"down"}})],1)],1)]}}])})],1)},W=[],z=function(e,t,a){var n={children:e,attrs:{}};return 4===a&&(n.attrs.colSpan=0),n},Y=[{key:"1",name:"John Brown",age:32,tel:"0571-22098909",phone:18889898989,address:"New York No. 1 Lake Park"},{key:"2",name:"Jim Green",tel:"0571-22098333",phone:18889898888,age:42,address:"London No. 1 Lake Park"},{key:"3",name:"Joe Black",age:32,tel:"0575-22098909",phone:18900010002,address:"Sidney No. 1 Lake Park"},{key:"4",name:"Jim Red",age:18,tel:"0575-22098909",phone:18900010002,address:"London No. 2 Lake Park"},{key:"5",name:"Jake White",age:18,tel:"0575-22098909",phone:18900010002,address:"Dublin No. 2 Lake Park"}],Q={props:["record","visible"],data:function(){var e=this.$createElement,t=[{title:"Name",dataIndex:"name",customRender:function(t,a,n){return n<4?e("a",{attrs:{href:"javascript:;"}},[t]):{children:e("a",{attrs:{href:"javascript:;"}},[t]),attrs:{colSpan:5}}}},{title:"Age",dataIndex:"age",customRender:z}];return{data:Y,columns:t,confirmLoading:!1}},methods:{handleCancel:function(){this.$emit("cancel")},handleCreate:function(){var e=this,t=this.formRef.form;t.validateFields(function(t,a){t||(console.log("Received values of form: ",a),e.submit(a))})},submit:function(e){var t=this,a=this.formRef.form;this.confirmLoading=!0,setTimeout(function(){t.confirmLoading=!1,a.resetFields(),t.$emit("success")},2e3)}}},Z=Q,ee=Object(p["a"])(Z,J,W,!1,null,null,null);ee.options.__file="OverviewModal.vue";var te=ee.exports,ae=[{title:"ID",dataIndex:"cell"},{title:"名称",dataIndex:"name.first"},{title:"状态",dataIndex:"phone",filters:[{text:"等待中",value:"等待中"},{text:"运行中",value:"运行中"},{text:"已暂停",value:"已暂停"},{text:"已关闭",value:"已关闭"},{text:"已删除",value:"已删除"},{text:"重启中",value:"重启中"}],filterMultiple:!1},{title:"区域",dataIndex:"dob.age",filters:[{text:"北京一区",value:"北京一区"},{text:"北京二区",value:"北京二区"}],filterMultiple:!1},{title:"映像",dataIndex:"id.name"},{title:"规格",dataIndex:"id.value"},{title:"网络",dataIndex:"login.password"},{title:"公网IP",dataIndex:"name.title"},{title:"安全组",dataIndex:"gender"},{title:"创建时间",dataIndex:"email"},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"}}],ne={components:{PageLayout:c["a"],CreateSnapshootModal:b,BindIPModal:k,AllotIPModal:O,RebuildCloudHostModal:T,EditSecurityGroupModal:H,OverviewModal:te},mounted:function(){this.fetch()},data:function(){return{data:[],pagination:{showSizeChanger:!0},loading:!1,columns:ae,selectedRowKeys:[],selectedRowData:null,batchOperations:[{text:"删除"},{text:"重启"},{text:"软重启"}],singleOperations:[{showModal:!1,text:"创建快照"},{showModal:!1,text:"绑定公网IP"},{showModal:!1,text:"解绑公网IP"},{showModal:!1,text:"进入控制台"},{showModal:!1,text:"重建云主机"},{showModal:!1,text:"编辑安全组"},{showModal:!1,text:"删除云主机"},{showModal:!1,text:"查看主机状况"}],showAllotIPModal:!1,selectedOperationKey:0}},computed:{message:function(){var e=this.selectedRowKeys.length;return"已选择 ".concat(e," 项")}},methods:{update:function(){console.log("update"),this.singleOperations[this.selectedOperationKey].showModal=!1,this.showAllotIPModal=!1,this.openNotification()},openNotification:function(){var e=this.$createElement;this.$notification.open({message:"提醒",description:"操作成功，数据已更新",icon:e("a-icon",{attrs:{type:"check-circle"},style:"color: #52c41a"})})},handleTableChange:function(e,t,a){var n=Object(l["a"])({},this.pagination);n.current=e.current,this.pagination=n,this.fetch(Object(l["a"])({results:e.pageSize,page:e.current,sortField:a.field,sortOrder:a.order},t))},fetch:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,a,n,o,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:{},this.loading=!0,a="https://randomuser.me/api";try{n=awaitthis.$http.get(a,{params:Object(l["a"])({results:10},t)}),o=Object(l["a"])({},this.pagination),o.total=200,this.loading=!1,this.data=n.results,this.pagination=o}catch(i){}case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSelectChange:function(e){this.selectedRowKeys=e,console.log(this.selectedRowKeys)},onSearch:function(e){console.log(e),this.fetch()},handleMenuClick:function(e){var t=e.key;console.log(this.operations[t])},handleCreate:function(){this.$router.push({name:"CreateInstance"})},handleBatchDelete:function(){var e=this,t=this.$createElement,a=t("ul",this.selectedRowKeys.map(function(e){return t("li",e)}));this.$confirm({title:"您已经选择了下列云主机，即将进行删除，请确认你的操作。",content:a,iconType:"warning",okText:"删除",okType:"danger",onOk:function(){return new Promise(function(e,t){setTimeout(e,1e3)}).then(function(){var t=e.selectedRowKeys.map(function(t){return e.data.findIndex(function(e){return e.cell==t})});e._deleteData(t)}).catch(function(){return console.log("Oops errors!")})},onCancel:function(){}})},handleBatchRestart:function(){},handleBatchSoftReset:function(){},handleDeleteCloudHost:function(e){var t=this;this.$confirm({title:"您已经选择了云主机“".concat(e.name.first,"”，即将删除此云主机，请确认你的操作。"),iconType:"warning",okText:"删除",okType:"danger",onOk:function(){return new Promise(function(e,t){setTimeout(e,1e3)}).then(function(){var a=t.data.indexOf(e);t._deleteData([a])}).catch(function(){return console.log("Oops errors!")})},onCancel:function(){}})},handleUnBindIP:function(e){this.$confirm({title:"您已经选择了云主机“${record.name.first}”，其绑定的公网IP将被解绑，请确认你的操作。",iconType:"warning",okText:"解绑",okType:"danger",onOk:function(){return new Promise(function(e,t){setTimeout(Math.random()>.5?e:t,1e3)}).catch(function(){return console.log("Oops errors!")})},onCancel:function(){}})},handleBatchMenuClick:function(e){var t=e.key;if(0!==this.selectedRowKeys.length)switch(t){case 0:this.handleBatchDelete();break;case 1:this.handleBatchRestart();break;case 2:this.handleBatchSoftReset();break;default:break}else this.$message.info("请先选择您要操作的实例")},handleSingleMenuClick:function(e,t){var a=t.key;switch(a){case 2:this.handleUnBindIP(e);break;case 3:break;case 6:this.handleDeleteCloudHost(e);break;default:this.selectedOperationKey=a,this.singleOperations[a].showModal=!0,this.selectedRowData=e;break}},_deleteData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var a=t.map(function(e,t){return e-t});console.log(a);var n=a.map(function(t){var a=e.data[t].cell;return e.data.splice(t,1),a});this.$message.success("删除成功！"),this._updateSelectedRowKeys(n)}},_updateSelectedRowKeys:function(e){var t=this;e.forEach(function(e){var a=t.selectedRowKeys.findIndex(function(t){return t===e});-1!==a&&t.selectedRowKeys.splice(a,1)})},_addData:function(){}}},oe=ne,re=(a("5acc"),Object(p["a"])(oe,r,i,!1,null,null,null));re.options.__file="Container.vue";t["default"]=re.exports},d2b2:function(e,t,a){"use strict";var n=a("f6fc"),o=a.n(n);o.a},d2ca:function(e,t,a){"use strict";var n=a("2c08"),o=a.n(n);o.a},d8c3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("page-header",[e._t("header")],2),a("a-layout-content",{staticClass:"page-content"},[e._t("default")],2)],1)},o=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"page-header"},[a("Breadcrumb"),a("div",{staticClass:"page-header-detail"},[a("div",{staticClass:"title"},[a("h1",[e._v(e._s(e.title))])]),a("div",{staticClass:"desc"},[e._t("default")],2)])],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-breadcrumb",{staticClass:"breadcrumb"},e._l(e.matched,function(t){return a("a-breadcrumb-item",{key:t.path||0},[a("router-link",{attrs:{to:{name:t.name}}},[e._v(e._s(t.meta.title))])],1)}),1)},l=[],c={data:function(){return{matched:[]}},created:function(){this.getRouteList()},watch:{$route:function(e,t){this.matched=e.matched}},methods:{getRouteList:function(){this.matched=this.$route.matched}}},u=c,d=(a("3dc7"),a("2877")),f=Object(d["a"])(u,s,l,!1,null,null,null);f.options.__file="Breadcrumb.vue";var m=f.exports,p={name:"",components:{Breadcrumb:m},computed:{},created:function(){this.getTitle()},data:function(){return{title:""}},methods:{getTitle:function(){this.title=this.$route.meta.title}}},h=p,v=(a("200b0"),Object(d["a"])(h,r,i,!1,null,null,null));v.options.__file="PageHeader.vue";var g=v.exports,b={name:"",components:{PageHeader:g},computed:{},data:function(){return{}},methods:{}},w=b,y=(a("599a"),Object(d["a"])(w,n,o,!1,null,null,null));y.options.__file="PageLayout.vue";t["a"]=y.exports},d8d0:function(e,t,a){},de000:function(e,t,a){"use strict";var n=a("2b05"),o=a.n(n);o.a},eb2e:function(e,t,a){},eb59:function(e,t,a){},ef2c:function(e,t,a){"use strict";var n=a("fab3"),o=a.n(n);o.a},f255:function(e,t,a){"use strict";var n=a("fb11"),o=a.n(n);o.a},f6fc:function(e,t,a){},fab3:function(e,t,a){},fb11:function(e,t,a){}}]);
//# sourceMappingURL=compute.38b9a17b.js.map