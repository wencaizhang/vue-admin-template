(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["store"],{"03c5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-layout",[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",[e._v("硬盘备份可以为云硬盘创建在线备份。针对病毒入侵、人为误删除、软硬件故障等导致数据丢失或者损坏的场景，可通过任意时刻的备份恢复数据，以保证用户数据正确性和安全性，确保您的数据安全。创建硬盘备份的速度和硬盘大小有关系，硬盘越大速度越慢。恢复数据时备份可以用来创建新的云硬盘或者恢复数据到云硬盘，恢复备份的时间和原硬盘大小成正比。")])]),a("div",{staticClass:"content"},[a("ul",{staticClass:"detail-container"},e._l(e.data,function(t){return a("li",{key:t.key},["disk"===t.key?[a("span",{staticClass:"key"},[e._v(e._s(t.name))]),a("span",{staticClass:"value"},[a("router-link",{attrs:{to:{name:"disk-instance",params:{id:t.value}}}},[e._v(e._s(t.value))])],1)]:[a("span",{staticClass:"key"},[e._v(e._s(t.name))]),a("span",{staticClass:"value"},[e._v(e._s(t.value))])]],2)}))])])],1)},r=[],i=a("d8c3"),s={components:{PageLayout:i["a"]},data:function(){return{data:[{name:"名称",key:"名称",value:"db3"},{name:"硬盘名称",key:"disk",value:"硬盘名称db3"},{name:"状态",key:"状态",value:"使用中"},{name:"容量",key:"容量",value:"100 G"},{name:"日费用",key:"日费用",value:"￥120"},{name:"创建时间",key:"创建时间",value:"2018年1月1日 02:15"}],loading:!1,busy:!1,tabKey:1}},beforeMount:function(){},mounted:function(){this.init()},methods:{init:function(){this.$route.meta.title=this.$route.params.id}}},o=s,l=(a("5892"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"1745ecaa",null);t["default"]=c.exports},"04ff":function(e,t,a){var n=a("5ca1"),r=a("3ca5");n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},"0840b":function(e,t,a){},"11e9":function(e,t,a){var n=a("52a7"),r=a("4630"),i=a("6821"),s=a("6a99"),o=a("69a8"),l=a("c69a"),c=Object.getOwnPropertyDescriptor;t.f=a("9e1e")?c:function(e,t){if(e=i(e),t=s(t,!0),l)try{return c(e,t)}catch(a){}if(o(e,t))return r(!n.f.call(e,t),e[t])}},"200b":function(e,t,a){"use strict";var n=a("b691"),r=a.n(n);r.a},"20d6":function(e,t,a){"use strict";var n=a("5ca1"),r=a("0a49")(6),i="findIndex",s=!0;i in[]&&Array(1)[i](function(){s=!1}),n(n.P+n.F*s,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(i)},"22b0":function(e,t,a){},"27f0":function(e,t,a){},"2a14":function(e,t,a){},3079:function(e,t,a){},3335:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[4===e.$route.matched.length?a("router-view"):a("page-layout",[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",[e._v("硬盘为主机提供块存储设备，它独立于主机的生命周期而存在，可以被连接到任意运行中的主机上。注意，硬盘附加到主机上后，您还需要登录到您的主机的操作系统中去加载该硬盘。当然，也可以从主机上卸载硬盘、并转至其他主机。注意，请先在您的主机的操作系统中卸载硬盘，然后再在友普云控制台上卸载。")])]),a("div",{staticClass:"content"},[a("my-content")],1)])],1)},r=[],i=a("d8c3"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"16px"}},[a("a-row",{attrs:{type:"flex",justify:"space-between"}},[a("a-col",[a("a-row",{attrs:{type:"flex",justify:"space-between"}},[a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"sync",disabled:e.loading,title:"刷新"},on:{click:e.handleRefresh}}),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"plus"},on:{click:function(t){e.handleSingleMenuClick("create")}}},[e._v("\n            创建\n          ")]),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"danger",disabled:!e.selectedRowKeys.length},on:{click:function(t){e.handleMultiMenuClick("multiDelete")}}},[e._v("\n            删除\n          ")])],1)],1),a("a-col",[a("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[a("a-input-group",{staticClass:"compact-search-input",attrs:{compact:""}},[a("a-select",{staticStyle:{width:"90px!important"},on:{change:function(t){return e.searchValues.type=t}},model:{value:e.searchValues.type,callback:function(t){e.$set(e.searchValues,"type",t)},expression:"searchValues.type"}},e._l(e.types,function(t,n){return a("a-select-option",{key:n,attrs:{value:n}},[e._v("\n                "+e._s(t)+"\n              ")])}),1),a("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"+e.types[e.searchValues.type]+"信息"},on:{pressEnter:e.handleDATA},model:{value:e.searchValues.inputValue,callback:function(t){e.$set(e.searchValues,"inputValue",t)},expression:"searchValues.inputValue"}},[e.searchValues.inputValue?a("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(t){e.searchValues.inputValue=""}},slot:"suffix"}):e._e()],1)],1)],1),a("a-select",{staticStyle:{"margin-left":"8px"},on:{change:function(t){return e.searchValues.status=t}},model:{value:e.searchValues.status,callback:function(t){e.$set(e.searchValues,"status",t)},expression:"searchValues.status"}},[a("a-select-option",{key:"all",attrs:{value:"all"}},[e._v("全部")]),a("a-select-option",{key:"available",attrs:{value:"available"}},[e._v("可用")]),a("a-select-option",{key:"in-use",attrs:{value:"in-use"}},[e._v("使用中")])],1),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.handleDATA}},[e._v("\n          搜索\n          "),a("a-icon",{attrs:{type:"search"}})],1)],1)],1)],1),a("a-alert",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"info",showIcon:""}},[a("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n      已选择 \n      "),a("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("  项\n      "),a("a",{staticStyle:{"margin-left":"24px"},on:{click:e.handleClearSelected}},[e._v("清空")])])]),a("a-table",{attrs:{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onTableSelectChange},columns:e.columns,rowKey:function(e){return e.id},dataSource:e.data,pagination:e.pagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"name",fn:function(t,n){return[a("a",{attrs:{title:"点击查看详情"},on:{click:function(t){e.handleSingleMenuClick("detail",n)}}},[e._v("\n        "+e._s(t)+"\n      ")])]}},{key:"operation",fn:function(t,n){return[a("a-dropdown",{staticStyle:{"margin-right":"10px"}},[a("a-menu",{attrs:{slot:"overlay"},on:{click:function(t){e.handleSingleMenuClick(t.key,n)}},slot:"overlay"},e._l(n.singleMenuOptions,function(t){return a("a-menu-item",{key:t.id},[e._v("\n            "+e._s(t.name)+"\n          ")])}),1),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{disabled:!n.singleMenuOptions.length}},[e._v("\n          操作\n          "),a("a-icon",{attrs:{type:"down"}})],1)],1)]}}])}),a("create-modal"),a("edit-modal"),a("uninstall"),a("dilatation"),a("mount"),a("create-snapshot"),a("create-backups"),a("clone-modal"),a("upload"),a("delete"),a("multi-delete"),a("change-disk-type"),a("detail")],1)},o=[],l=(a("20d6"),a("456d"),a("7514"),a("96cf"),a("1da1")),c=a("2909"),u=(a("f751"),a("ac6a"),a("6762"),a("2fdb"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{bodyStyle:e.bodyStyle,visible:e.visible,confirmLoading:e.confirmLoading,title:"创建硬盘",okText:"保存"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{staticClass:"the-form-item-for-position",attrs:{label:"名称",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入名称"},e.rulesObj.name]}],expression:"[\n            'name',\n            {\n              rules: [\n                { required: true, message: '请输入名称' },\n                rulesObj.name\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入名称"}})],1),a("a-form-item",{attrs:{label:"描述",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{rules:[e.rulesObj.desc]}],expression:"[\n            'description',\n            {\n              rules: [\n                rulesObj.desc,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入描述"}})],1),a("a-form-item",{attrs:{label:"数量",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["number",{rules:[{required:!0,message:"请输入数量"}]}],expression:"[\n            'number',\n            {\n              rules: [{ required: true, message: '请输入数量' }]}\n          ]"}],attrs:{min:1}})],1),a("a-form-item",{attrs:{label:"硬盘来源",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["resourceType",{initialValue:0,rules:[{required:!0,message:"请选择硬盘来源"}]}],expression:"[\n            'resourceType',\n            {\n              initialValue: 0,\n              rules: [\n                { required: true, message: '请选择硬盘来源' },\n              ]\n            }\n          ]"}],attrs:{getPopupContainer:e.getPopupContainer},on:{select:e.onSelectResourceType}},e._l(e.resourceType,function(t){return a("a-select-option",{key:t.id,attrs:{value:t.value}},[e._v("\n            "+e._s(t.name)+"\n          ")])}),1)],1),e.source&&0!=e.source?a("a-form-item",{attrs:{label:"请选择"+e.formItemData.name,labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-spin",{attrs:{spinning:e.formItemData.loading}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["resource",{rules:[{required:!0,message:"请选择"+e.formItemData.name}]}],expression:"[\n              'resource',\n              {\n                rules: [\n                  { required: true, message: `请选择${formItemData.name}` },\n                ]\n              }\n            ]"}],attrs:{getPopupContainer:e.getPopupContainer},on:{select:e.onSelectResource}},e._l(e.formItemData.options,function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1)],1):e._e(),a("a-form-item",{attrs:{label:"类型",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["volumeType",{initialValue:e.volumeType,rules:[{required:!0,message:"请选择硬盘类型"}]}],expression:"[\n            'volumeType',\n            {\n              initialValue: volumeType,\n              rules: [{ required: true, message: '请选择硬盘类型' }]\n            }\n          ]"}]},[e.volumeType&&"hdd"!==e.volumeType?e._e():a("a-radio",{attrs:{value:"hdd"}},[e._v("普通")]),e.volumeType&&"ssd"!==e.volumeType?e._e():a("a-radio",{attrs:{value:"ssd"}},[e._v("SSD")])],1)],1),a("a-form-item",{attrs:{label:"容量",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["capacity",{rules:[{required:!0,message:"请输入容量"}]}],expression:"[\n            'capacity',\n            {\n              rules: [{ required: true, message: '请输入容量' }]}\n          ]"}],attrs:{min:e.formItemData.capacity.min,max:e.formItemData.capacity.max}})],1),a("a-form-item",{attrs:{label:"购买时长",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["buyLength",{rules:[{required:!0,message:"请选择购买时长"}]}],expression:"[\n            'buyLength',\n            {\n              rules: [{ required: true, message: '请选择购买时长' }]}\n          ]"}],attrs:{getPopupContainer:e.getPopupContainer}},[a("a-select-option",{attrs:{value:1}},[e._v("1个月")]),a("a-select-option",{attrs:{value:2}},[e._v("2个月")]),a("a-select-option",{attrs:{value:3}},[e._v("3个月")]),a("a-select-option",{attrs:{value:6}},[e._v("半年")]),a("a-select-option",{attrs:{value:12}},[e._v("1年")]),a("a-select-option",{attrs:{value:24}},[e._v("2年")]),a("a-select-option",{attrs:{value:36}},[e._v("3年")])],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12,offset:8}},[e._v("配置费用： ￥10.00")])],1)],1)],1)}),d=[],m=(a("c5f6"),a("04ff"),a("e0ae")),p=a("a6fd"),h=a("75a1"),f=a("0792"),v={mixins:[m["a"],m["b"]],data:function(){return{rulesObj:f["a"],fetchAPI:p["d"],name:"create",source:"0",volumeType:"",resourceType:[{value:0,name:"空白硬盘",id:"blank",loading:!1,options:[],capacity:{min:10,max:4e3}},{value:1,name:"快照",id:"snapshot",loading:!1,options:[],capacity:{min:20}},{value:2,name:"备份",id:"backup",loading:!1,options:[],capacity:{min:100}},{value:3,name:"硬盘",id:"disk",loading:!1,options:[],capacity:{min:100}},{value:4,name:"镜像",id:"mirror",loading:!1,options:[],capacity:{min:10,max:4e3}}]}},computed:{formItemData:function(){var e=Number.parseInt(this.source);return this.resourceType[e]}},methods:{initFormValues:function(){this.source="0",this.formValues={configCost:5},this.confirmLoading=!1},onShow:function(){this.initFormValues(),this.fetch()},fetchItem:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=this.resourceType.find(function(e){return e.id===t.id}),a.loading=!0,e.prev=2,e.next=5,t.api();case 5:n=e.sent,"mirror"===t.id&&n.data.forEach(function(e){return e.capacity=Math.ceil(e.capacity/1024/1024/1024)}),"disk"===t.id&&n.data.forEach(function(e){return e.volumeType=e.type}),a.options=n.data,e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](2);case 13:return e.prev=13,a.loading=!1,e.finish(13);case 16:case"end":return e.stop()}},e,this,[[2,11,13,16]])}));function t(t){return e.apply(this,arguments)}return t}(),fetch:function(){var e=this,t=[{id:"disk",api:p["n"]},{id:"snapshot",api:p["o"]},{id:"backup",api:p["l"]},{id:"mirror",api:h["d"]}];t.forEach(function(t){e.fetchItem(t)})},getPopupContainer:function(){return document.querySelector(".the-form-item-for-position")},onSelectResourceType:function(e){this.source=e,this.volumeType="",this.form.setFieldsValue({resource:""})},onSelectResource:function(e){var t=this.formItemData,a=t.options,n=t.capacity,r=a.find(function(t){return t.id===e});this.volumeType=r.volumeType,this.form.setFieldsValue({volumeType:r.volumeType}),n.min=r.capacity>n.min?r.capacity:n.min},handleCreate:function(){var e=this;this.form.validateFieldsAndScroll(function(t,a){t||(e.formValues=Object.assign({},e.formValues,a),2!==e.formValues.resourceType?e.handleFetch():(e.formValues.resourceType=0,e.createEmptyDisk()))})},createEmptyDisk:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.confirmLoading=!0,e.prev=1,t=Object.assign({},this.formValues,{}),e.next=5,Object(p["d"])(t);case 5:a=e.sent,this.formValues.diskCount=this.formValues.number,a.data.forEach(function(e){n.traceDiskStatus(e)}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.confirmLoading=!1;case 13:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}(),traceDiskStatus:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p["m"])(t.id);case 3:a=e.sent,n=a.hardDisk.status,n.includes("ing")?this.traceDiskStatus(t):(r={backupId:this.formValues.resource,volumeId:t.id},this.coverDisk(r)),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}(),coverDisk:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p["q"])(t);case 3:a=e.sent,this.openNotification(a),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:return e.prev=10,this.formValues.diskCount--,0===this.formValues.diskCount&&(this.confirmLoading=!1,this.handleRefreshParentTable(),this.handleCancel()),e.finish(10);case 14:case"end":return e.stop()}},e,this,[[0,7,10,14]])}));function t(t){return e.apply(this,arguments)}return t}()}},b=v,g=a("2877"),y=Object(g["a"])(b,u,d,!1,null,null,null),C=y.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"编辑硬盘",okText:"提交"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:e.currRecord.name,rules:[{required:!0,message:"请输入名称"},e.rulesObj.editdName]}],expression:"[\n            'name',\n            {\n              initialValue: currRecord.name,\n              rules: [\n                { required: true, message: '请输入名称' },\n                rulesObj.editdName,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入名称"}})],1),a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"描述"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{initialValue:e.currRecord.description&&e.currRecord.description.replace(/^无$/,""),rules:[e.rulesObj.desc]}],expression:"[\n            'description',\n            {\n              initialValue: currRecord.description && currRecord.description.replace(/^无$/, ''),\n              rules: [\n                rulesObj.desc,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入描述"}})],1),a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14,offset:8},label:""}},[a("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["bootable",{initialValue:e.currRecord.bootable,valuePropName:"checked"}],expression:"[\n            'bootable',\n            {\n              initialValue: currRecord.bootable,\n              valuePropName: 'checked',\n            }\n          ]"}]},[e._v("\n          可启动\n          "),a("a-tooltip",[a("template",{slot:"title"},[e._v("“可启动”标记标明此硬盘可以被用来创建主机。")]),a("a-icon",{attrs:{type:"info-circle"}})],2)],1)],1)],1)],1)],1)},k=[],w={mixins:[m["a"],m["b"]],data:function(){return{fetchAPI:p["j"],rulesObj:f["a"],name:"edit"}},methods:{onShow:function(){this.formValues={hardDiskId:this.currRecord.id}},handleCreate:function(){var e=this;this.form.validateFieldsAndScroll(function(t,a){t||(Object.assign(e.formValues,a),e.handleFetch())})}}},x=w,I=Object(g["a"])(x,_,k,!1,null,null,null),O=I.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"卸载硬盘",okText:"卸载",okType:"danger"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-alert",{attrs:{message:"注意：卸载硬盘请确保硬盘挂载到的主机已在操作系统卸载挂载。",type:"warning",showIcon:""}}),a("p",{staticStyle:{"margin-top":"10px","text-align":"center"}},[e._v("是否确定要卸载主机"),a("span",[e._v(e._s(e.currRecord.mountHostAndDrive))]),e._v("挂载的硬盘"),a("span",[e._v(e._s(e.currRecord.name))]),e._v("?")])],1)],1)},V=[],j={mixins:[m["a"]],data:function(){return{fetchAPI:p["r"],name:"uninstall"}},methods:{onShow:function(){this.formValues={hardDiskId:this.currRecord.id}}}},R=j,L=Object(g["a"])(R,S,V,!1,null,null,null),D=L.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"扩容硬盘",okText:"提交"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:e.currRecord.name}],expression:"[\n            'name',\n            {\n              initialValue: currRecord.name,\n            }\n          ]"}],attrs:{disabled:""}})],1),a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"当前容量"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["currentCapacity",{initialValue:e.currRecord.capacity}],expression:"[\n            'currentCapacity',\n            {\n              initialValue: currRecord.capacity,\n            }\n          ]"}],attrs:{disabled:""}})],1),a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"新容量"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["newCapacity",{rules:[{required:!0,message:"请输入新容量"}]}],expression:"[\n            'newCapacity',\n            {\n              rules: [{ required: true, message: '请输入新容量' }]\n            }\n          ]"}],attrs:{min:e.currRecord.capacity,max:4e3}})],1)],1)],1)],1)},N=[],$={mixins:[m["a"],m["b"]],data:function(){return{fetchAPI:p["i"],name:"dilatation"}},methods:{onShow:function(){this.formValues={hardDiskId:this.currRecord.id}}}},E=$,A=Object(g["a"])(E,T,N,!1,null,null,null),F=A.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"挂载硬盘到主机",okText:"提交"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-alert",{attrs:{message:"注意：如果需要在 linux 系统开机时自动挂载硬盘，请不要在 /etc/fstab 文件指定 /dev/vd** 的写法，因为有几率出现硬盘设备顺序编码变化，推荐使用命令 blkid 分区获取 UUID 来挂载硬盘分区。",type:"warning",showIcon:""}}),a("div",{staticClass:"container"},[a("span",[e._v("请选择一个主机：")]),a("a-spin",{attrs:{spinning:e.loading}},[a("a-select",{staticStyle:{width:"200px"},attrs:{defaultValue:"lucy"},model:{value:e.formValues.instanceId,callback:function(t){e.$set(e.formValues,"instanceId",t)},expression:"formValues.instanceId"}},e._l(e.instanceList,function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v("\n            "+e._s(t.name)+"\n          ")])}),1)],1)],1)],1)],1)},P=[],M=a("ade3"),K=a("f30f"),z={mixins:[m["a"]],data:function(){return{fetchAPI:p["p"],name:"mount",loading:!1,formValues:{hardDiskId:"",instanceId:""},instanceList:[]}},methods:{fetchInstance:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,Object(K["i"])();case 4:t=e.sent,this.instanceList=t.data,this.loading=!1,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](1);case 11:case"end":return e.stop()}},e,this,[[1,9]])}));function t(){return e.apply(this,arguments)}return t}(),initFormValues:function(){this.formValues=Object(M["a"])({hardDiskId:""},"hardDiskId",this.currRecord.id)},onShow:function(){this.fetchInstance(),this.initFormValues()},handleSearch:function(){}}},G=z,B=(a("e474"),Object(g["a"])(G,q,P,!1,null,"21ee7b69",null)),U=B.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"创建快照",okText:"提交"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{message:"说明：快照是保存了运行中云主机的磁盘状态的镜像。",type:"info",showIcon:""}}),a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"快照名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["snapshotName",{rules:[{required:!0,message:"请输入快照名称"},e.rulesObj.name]}],expression:"[\n            'snapshotName',\n            {\n              rules: [\n                { required: true, message: '请输入快照名称' },\n                rulesObj.name,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入快照名称"}})],1),a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"描述"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{rules:[e.rulesObj.desc]}],expression:"[\n            'description',\n            {\n              rules: [\n                rulesObj.desc,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入描述"}})],1)],1)],1)],1)},H=[],J={mixins:[m["a"],m["b"]],data:function(){return{fetchAPI:p["e"],rulesObj:f["a"],name:"createSnapshot"}},methods:{onShow:function(){this.formValues={hardDiskId:this.currRecord.id}}}},X=J,Q=Object(g["a"])(X,Z,H,!1,null,null,null),Y=Q.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"创建硬盘备份",okText:"提交"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"备份名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["backupName",{rules:[{required:!0,message:"请输入备份名称"},e.rulesObj.name]}],expression:"[\n            'backupName',\n            {\n              rules: [\n                { required: true, message: '请输入备份名称' },\n                rulesObj.name,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入备份名称"}})],1),a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"描述"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{rules:[e.rulesObj.desc]}],expression:"[\n            'description',\n            {\n              rules: [\n                rulesObj.desc,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入描述"}})],1)],1)],1)],1)},ee=[],te={mixins:[m["a"],m["b"]],data:function(){return{rulesObj:f["a"],fetchAPI:p["c"],name:"createBackups"}},methods:{onShow:function(){this.formValues={hardDiskId:this.currRecord.id}}}},ae=te,ne=Object(g["a"])(ae,W,ee,!1,null,null,null),re=ne.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"删除硬盘",okText:"删除",okType:"danger"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-alert",{attrs:{message:"注意：删除硬盘后数据不可恢复！",type:"warning",showIcon:""}}),a("p",{staticStyle:{"margin-top":"10px","text-align":"center"}},[e._v("\n      是否删除硬盘 "),a("span",{staticClass:"primay-color"},[e._v(e._s(e.currRecord.name))]),e._v("？\n    ")])],1)],1)},se=[],oe={mixins:[m["a"]],data:function(){return{fetchAPI:p["g"],name:"delete"}},methods:{onShow:function(){this.formValues={hardDiskId:this.currRecord.id}}}},le=oe,ce=Object(g["a"])(le,ie,se,!1,null,null,null),ue=ce.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"删除硬盘",okText:"删除",okType:"danger"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-alert",{attrs:{message:"注意：删除硬盘后数据不可恢复！",type:"warning",showIcon:""}}),a("p",[e._v("是否删除硬盘 "+e._s(e.list.map(function(e){return e.name}).join(", "))+"，请确认你的操作。")])],1)],1)},me=[],pe={mixins:[m["a"]],data:function(){return{fetchAPI:p["g"],name:"multiDelete",loop:!0}},methods:{onShow:function(){var e=this.$parent,t=e.data,a=e.selectedRowKeys;this.list=t.filter(function(e){return a.includes(e.id)}),this.handleItemCount=this.list.length},handleItemFetch:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a={hardDiskId:t.id},e.next=4,this.fetchAPI(a);case 4:e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.handleItemCount=this.handleItemCount-1,0===this.handleItemCount&&this.handleLoopFetchEnd(),e.finish(9);case 13:case"end":return e.stop()}},e,this,[[0,7,9,13]])}));function t(t){return e.apply(this,arguments)}return t}()}},he=pe,fe=Object(g["a"])(he,de,me,!1,null,null,null),ve=fe.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{bodyStyle:e.bodyStyle,visible:e.visible,confirmLoading:e.confirmLoading,title:"克隆硬盘",okText:"保存"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"名称",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入名称"}]}],expression:"[\n            'name',\n            {\n              rules: [{ required: true, message: '请输入名称' }]\n            }\n          ]"}],attrs:{placeholder:"请输入名称"}})],1),a("a-form-item",{attrs:{label:"描述",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{rules:[e.rulesObj.desc]}],expression:"[\n            'description',\n            {\n              rules: [\n                rulesObj.desc,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入描述"}})],1),a("a-form-item",{attrs:{label:"硬盘",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["hardDiskName",{initialValue:e.currRecord.name,rules:[{required:!0,message:"请选择硬盘来源"}]}],expression:"[\n            'hardDiskName',\n            {\n              initialValue: currRecord.name,\n              rules: [{ required: true, message: '请选择硬盘来源' }]}\n          ]"}],attrs:{disabled:!0}})],1),a("a-form-item",{attrs:{label:"类型",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["hardDiskType",{initialValue:e.currRecord.type,rules:[{required:!0,message:"请选择类型"}]}],expression:"[\n            'hardDiskType',\n            {\n              initialValue: currRecord.type,\n              rules: [{ required: true, message: '请选择类型' }]\n            }\n          ]"}]},[a("a-radio",{attrs:{value:e.currRecord.type}},[e._v(e._s(e.$parent.diskTypes[e.currRecord.type]))])],1)],1),a("a-form-item",{attrs:{label:"容量",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["capacity",{initialValue:e.currRecord.capacity,rules:[{required:!0,message:"请输入容量"}]}],expression:"[\n            'capacity',\n            {\n              initialValue: currRecord.capacity,\n              rules: [{ required: true, message: '请输入容量' }]\n            }\n          ]"}],attrs:{min:e.currRecord.capacity}})],1),a("a-form-item",{attrs:{label:"购买时长",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["buyLenght",{rules:[{required:!0,message:"请选择购买时长"}]}],expression:"[\n            'buyLenght',\n            {\n              rules: [{ required: true, message: '请选择购买时长' }]}\n          ]"}]},[a("a-select-option",{attrs:{value:"1"}},[e._v("1个月")]),a("a-select-option",{attrs:{value:"2"}},[e._v("2个月")]),a("a-select-option",{attrs:{value:"3"}},[e._v("3个月")]),a("a-select-option",{attrs:{value:"6"}},[e._v("半年")]),a("a-select-option",{attrs:{value:"12"}},[e._v("1年")]),a("a-select-option",{attrs:{value:"24"}},[e._v("2年")]),a("a-select-option",{attrs:{value:"36"}},[e._v("3年")])],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12,offset:8}},[e._v("配置费用： ￥5.00")])],1)],1)],1)},ge=[],ye={mixins:[m["a"],m["b"]],data:function(){return{fetchAPI:p["b"],rulesObj:f["a"],name:"cloneDisk"}},methods:{onShow:function(){this.formValues={hardDiskId:this.currRecord.id,configCost:5}}}},Ce=ye,_e=Object(g["a"])(Ce,be,ge,!1,null,null,null),ke=_e.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"上传硬盘到镜像",okText:"提交"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"硬盘名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["hardDiskName",{initialValue:e.currRecord.name,rules:[{required:!0,message:"请输入硬盘名称"}]}],expression:"[\n            'hardDiskName',\n            {\n              initialValue: currRecord.name,\n              rules: [{ required: true, message: '请输入硬盘名称' }]\n            }\n          ]"}],attrs:{disabled:!0,placeholder:"请输入硬盘名称"}})],1),a("a-form-item",{attrs:{labelCol:{span:8},wrapperCol:{span:14},label:"镜像名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["imageName",{rules:[{required:!0,message:"请输入镜像名称"},e.rulesObj.name]}],expression:"[\n            'imageName',\n            {\n              rules: [\n                { required: true, message: '请输入镜像名称' },\n                rulesObj.name,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入镜像名称"}})],1),a("a-form-item",{attrs:{label:"磁盘格式",labelCol:{span:8},wrapperCol:{span:14}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["diskFormatName",{rules:[{required:!0,message:"请选择磁盘格式"}]}],expression:"[\n            'diskFormatName',\n            {\n              rules: [\n                { required: true, message: '请选择磁盘格式' },\n              ]\n            }\n          ]"}]},e._l(e.imageFormatList,function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.desc))])}),1)],1)],1)],1)],1)},xe=[],Ie={mixins:[m["a"],m["b"]],data:function(){return{fetchAPI:p["s"],rulesObj:f["a"],name:"upload",imageFormatList:[{id:"qcow2",desc:"QCOW2 - QEMU模拟器"},{id:"raw",desc:"原始"},{id:"vdi",desc:"VDI - VirtualBox虚拟磁盘镜像"},{id:"vmdk",desc:"VMDK - Vmware虚拟磁盘"}]}},methods:{onShow:function(){this.formValues={hardDiskId:this.currRecord.id}}}},Oe=Ie,Se=Object(g["a"])(Oe,we,xe,!1,null,null,null),Ve=Se.exports,je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"更改硬盘类型",okText:"保存"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"硬盘名称",labelCol:{span:8},wrapperCol:{span:14}}},[a("a-input",{attrs:{disabled:!0,value:e.currRecord.name}})],1),a("a-form-item",{attrs:{label:"硬盘类型",labelCol:{span:8},wrapperCol:{span:14}}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["hardDiskType",{initialValue:"ssd"==e.currRecord.type?"hdd":"ssd",rules:[{required:!0,message:"请选择硬盘类型"}]}],expression:"[\n            'hardDiskType',\n            {\n              initialValue: currRecord.type == 'ssd' ? 'hdd' : 'ssd',\n              rules: [{ required: true, message: '请选择硬盘类型' }]}\n          ]"}]},["ssd"!==e.currRecord.type?a("a-radio",{attrs:{value:"ssd"}},[e._v("SSD")]):e._e(),"hdd"!==e.currRecord.type?a("a-radio",{attrs:{value:"hdd"}},[e._v("普通")]):e._e()],1)],1)],1)],1)],1)},Re=[],Le={mixins:[m["a"],m["b"]],data:function(){return{fetchAPI:p["a"],name:"changeDiskType"}},methods:{onShow:function(){this.formValues={hardDiskId:this.currRecord.id}}}},De=Le,Te=Object(g["a"])(De,je,Re,!1,null,null,null),Ne=Te.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{staticClass:"detail-modal",attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"硬盘详情",okText:"确定"},on:{cancel:e.handleCancel,ok:e.handleCancel}},[e.show?a("ul",e._l(e.columns,function(t){return a("li",{key:t.title},[a("span",[e._v(e._s(t.title))]),a("span",[e._v(e._s(e.currRecord[t.dataIndex]||"无"))])])})):e._e(),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("确定")])],1)],2)},Ee=[],Ae={mixins:[m["a"]],data:function(){var e=[{title:"名称",dataIndex:"name"},{title:"描述",dataIndex:"description"},{title:"状态",dataIndex:"status_zh"},{title:"类型",dataIndex:"type"},{title:"挂载云主机/盘符",dataIndex:"mountHostAndDrive"},{title:"可启动",dataIndex:"bootable_zh"},{title:"创建于",dataIndex:"createDate"}];return{name:"detail",columns:e,show:!1}},methods:{onShow:function(){console.log(this.currRecord),this.show=!0}}},Fe=Ae,qe=(a("db0e"),Object(g["a"])(Fe,$e,Ee,!1,null,"cc2877ca",null)),Pe=qe.exports,Me=a("3614"),Ke={disk:{status:{available:"可用",creating:"创建中",uploading:"镜像上传","in-use":"使用中"}}},ze=Ke.disk.status,Ge={mixins:[Me["a"]],components:{CreateModal:C,EditModal:O,Uninstall:D,Dilatation:F,Mount:U,CreateSnapshot:Y,CreateBackups:re,Delete:ue,MultiDelete:ve,CloneModal:ke,Upload:Ve,ChangeDiskType:Ne,Detail:Pe},mounted:function(){4===this.$route.matched.length&&(this.$route.meta.title="硬盘实例")},data:function(){return{getList:p["n"],module:"store",id:"disk",name:"硬盘",searchValues:{type:"name",inputValue:"",status:"all"},types:{name:"名称"},traceList:[],staticStatus:["available","error-restoring","in-use","error_restoring"],diskTypes:{ssd:"SSD",hdd:"普通"}}},computed:{},methods:{__handleTransformToZh:function(e){return ze[e]||"等待中"},__handleFilterOptions:function(e){var t=e.status,a=JSON.parse(JSON.stringify(this.singleMenuOptions)),n=a.filter(function(e,a){e.id;var n=e.availableStatus,r=void 0===n?[]:n;return 0===r.length||r.includes(t)});return n},handleParseData:function(e){var t=this,a=e,n=e.filter(function(e){return!t.staticStatus.includes(e.status)});return n.forEach(function(e){t.traceDiskStatus(e)}),a.forEach(function(e){var a=t.__handleTransformToZh(e.status),n=t.diskTypes[e.type]||"无";Object.assign(e,{status_zh:a,type_zh:n,bootable_zh:e.bootable?"是":"否",singleMenuOptions:Object(c["a"])(t.__handleFilterOptions(e))})}),a},traceDiskStatus:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p["m"])(t.id);case 3:a=e.sent,n=a.hardDisk.status,this.staticStatus.includes(n)?(r=this.data.find(function(e){return t.id===e.id}),Object.assign(r,a.hardDisk,{status:n,status_zh:this.__handleTransformToZh(n),singleMenuOptions:Object(c["a"])(this.__handleFilterOptions({status:n}))}),Object.keys(r).forEach(function(e){r[e]=r[e]||"无"}),console.log(r)):this.traceDiskStatus(t),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),404===e.t0.response.status&&(i=this.data.findIndex(function(e){return t.id===e.id}),this.data.splice(i,1));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}()}},Be=Ge,Ue=(a("a574"),Object(g["a"])(Be,s,o,!1,null,null,null)),Ze=Ue.exports,He={components:{PageLayout:i["a"],MyContent:Ze},data:function(){return{}}},Je=He,Xe=Object(g["a"])(Je,n,r,!1,null,null,null);t["default"]=Xe.exports},3614:function(e,t,a){"use strict";a("7f7f"),a("456d"),a("96cf");var n=a("1da1"),r=(a("ac6a"),a("8615"),a("6b54"),a("7514"),a("6762"),a("2fdb"),a("f751"),a("ca00"));t["a"]={data:function(){return{name:"选项",pagination:{},initPagination:{total:0,current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"]},payload:{},url:"/api/demo",allData:[],tempData:[],data:[],loading:!1,selectedRowKeys:[],currRecord:{},searchValues:{}}},computed:{message:function(){var e=this.selectedRowKeys.length;return"已选择 ".concat(e," 项")},columns:function(){return this.$store.state[this.module][this.id].columns},menuOptions:function(){return this.$store.state[this.module][this.id].menuOptions},multiMenuOptions:function(){return this.menuOptions.filter(function(e){return"multi"===e.type})},singleMenuOptions:function(){return this.menuOptions.filter(function(e){return"single"===e.type})}},mounted:function(){this.handleRefresh()},methods:{handleRefresh:function(){this.searchValues&&(this.searchValues=Object.assign({},this.searchValues,{inputValue:""})),this.pagination=Object.assign({},this.pagination,this.initPagination),this.fetch()},handleFilterByStatus:function(){var e=this.searchValues.status;e&&this.tempData.length>0&&(this.tempData="all"===e?this.tempData:this.tempData.filter(function(t){return t.status===e}))},handleFilterByInput:function(){var e=this.searchValues,t=e.type,a=e.inputValue;if(0!==this.tempData.length&&""!==a){var n=a.toLowerCase(),r=this.tempData.filter(function(e){var a=e[t];return"string"===typeof a?a.toLowerCase().includes(n):Array.isArray(a)?a.find(function(e){return e.toLowerCase().includes(n)}):"[object Object]"===a.toString()?Object.values(a).find(function(e){return e.toLowerCase().includes(n)}):void 0});this.tempData=r}},getCurrPageData:function(){var e=this.pagination,t=(e.total,e.current),a=e.pageSize,n=(t-1)*a||0,r=t*a||10;this.tempData=this.tempData.slice(n,r)},handleDATA:function(){var e=this;this.handleClearSelected(),this.tempData=this.allData,this.handleFilterByStatus(),this.handleFilterByInput(),this.pagination=Object.assign({},this.pagination,{total:this.tempData.length}),this.getCurrPageData(),this.loading=!0,setTimeout(function(){e.data=e.tempData,e.loading=!1,e.handleFetchSuccess()},100)},fetch:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},this.loading=!0,this.handleClearSelected(),t=this.payload||{},e.prev=4,e.next=7,this.getList(t);case 7:a=e.sent,a.data.forEach(function(e){if(e.id&&(e.shortID=e.id.substring(0,8)),e.createDate){var t=e.createDate;e.timestamp=Object(r["d"])(t)}e.status&&(e.status=e.status.toLowerCase()),Object.keys(e).forEach(function(t){var a=e[t],n="无";[null,void 0,""].includes(a)&&(e[t]=n),a&&Array.isArray(a)&&0===a.length&&(e[t]=[])})}),this.allData=this.handleParseData?this.handleParseData(a.data):a.data,this.handleDATA(),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](4),404===e.t0.response.status&&(this.data=[]);case 16:return e.prev=16,this.loading=!1,e.finish(16);case 19:case"end":return e.stop()}},e,this,[[4,13,16,19]])}));function t(){return e.apply(this,arguments)}return t}(),handleFetchSuccess:function(){},handleTableChange:function(e,t,a){this.pagination=Object.assign({},this.pagination,e),this.handleDATA()},onTableSelectChange:function(e){this.selectedRowKeys=e},handleClearSelected:function(){this.selectedRowKeys=[]},handleMultiMenuClick:function(e){0!==this.selectedRowKeys.length?this.handleShowModal(e):this.$message.info("请先选择您要操作的".concat(this.name||"数据"))},handleSingleMenuClick:function(e,t){this.currRecord=t,this.handleShowModal(e)},handleShowModal:function(e){this.$store.commit("".concat(this.id,"/toggleModalVisible"),e)},getSearchData:function(){}}}},"3a7d":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"16px"}},[a("a-row",{attrs:{type:"flex",justify:"space-between"}},[a("a-col",[a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"sync",disabled:e.loading,title:"刷新"},on:{click:e.handleRefresh}}),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"danger",disabled:!e.selectedRowKeys.length},on:{click:function(t){e.handleMultiMenuClick("multiDelete")}}},[e._v("\n          删除\n        ")])],1),a("a-col",[a("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[a("a-input-group",{staticClass:"compact-search-input",attrs:{compact:""}},[a("a-select",{staticStyle:{width:"90px!important"},on:{change:function(t){return e.searchValues.type=t}},model:{value:e.searchValues.type,callback:function(t){e.$set(e.searchValues,"type",t)},expression:"searchValues.type"}},e._l(e.types,function(t,n){return a("a-select-option",{key:n,attrs:{value:n}},[e._v("\n                "+e._s(t)+"\n              ")])}),1),a("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"+e.types[e.searchValues.type]+"信息"},on:{pressEnter:e.handleDATA},model:{value:e.searchValues.inputValue,callback:function(t){e.$set(e.searchValues,"inputValue",t)},expression:"searchValues.inputValue"}},[e.searchValues.inputValue?a("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(t){e.searchValues.inputValue=""}},slot:"suffix"}):e._e()],1)],1)],1),a("a-select",{staticStyle:{"margin-left":"8px"},on:{change:function(t){return e.searchValues.status=t}},model:{value:e.searchValues.status,callback:function(t){e.$set(e.searchValues,"status",t)},expression:"searchValues.status"}},[a("a-select-option",{key:"all",attrs:{value:"all"}},[e._v("全部")]),a("a-select-option",{key:"available",attrs:{value:"available"}},[e._v("可用")]),a("a-select-option",{key:"in-use",attrs:{value:"in-use"}},[e._v("使用中")])],1),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.handleDATA}},[e._v("\n          搜索\n          "),a("a-icon",{attrs:{type:"search"}})],1)],1)],1)],1),a("a-alert",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"info",showIcon:""}},[a("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n      已选择 \n      "),a("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("  项\n      "),a("a",{staticStyle:{"margin-left":"24px"},on:{click:e.handleClearSelected}},[e._v("清空")])])]),a("a-table",{attrs:{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onTableSelectChange},columns:e.columns,rowKey:function(e){return e.id},dataSource:e.data,pagination:e.pagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"name",fn:function(t,n){return[a("a",{attrs:{title:"点击查看详情"},on:{click:function(t){e.handleSingleMenuClick("detail",n)}}},[e._v("\n        "+e._s(t)+"\n      ")])]}},{key:"operation",fn:function(t,n){return[a("a-dropdown",{staticStyle:{"margin-right":"10px"}},[a("a-menu",{attrs:{slot:"overlay"},on:{click:function(t){e.handleSingleMenuClick(t.key,n)}},slot:"overlay"},e._l(e.singleMenuOptions,function(t){return a("a-menu-item",{key:t.id},[e._v("\n            "+e._s(t.name)+"\n          ")])}),1),a("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("\n          操作\n          "),a("a-icon",{attrs:{type:"down"}})],1)],1)]}}])}),a("create-modal"),a("edit-modal"),a("delete-modal"),a("multi-delete"),a("detail")],1)},r=[],i=(a("f751"),a("ac6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{bodyStyle:e.bodyStyle,visible:e.visible,confirmLoading:e.confirmLoading,title:"基于快照创建新硬盘",okText:"保存"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"名称",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入名称"}]}],expression:"[\n            'name',\n            {\n              rules: [{ required: true, message: '请输入名称' }]\n            }\n          ]"}],attrs:{placeholder:"请输入名称"}})],1),a("a-form-item",{attrs:{label:"描述",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{rules:[e.rulesObj.desc]}],expression:"[\n            'description',\n            {\n              rules: [\n                rulesObj.desc,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入描述"}})],1),a("a-form-item",{attrs:{label:"数量",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["number",{rules:[{required:!0,message:"请输入数量"}]}],expression:"[\n            'number',\n            {\n              rules: [{ required: true, message: '请输入数量' }]}\n          ]"}],attrs:{min:1}})],1),a("a-form-item",{attrs:{label:"快照来源",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input",{attrs:{value:e.currRecord.name,disabled:!0}})],1),a("a-form-item",{attrs:{label:"类型",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["volumeType",{initialValue:e.currRecord.volumeType,rules:[{required:!0,message:"请选择硬盘类型"}]}],expression:"[\n            'volumeType',\n            {\n              initialValue: currRecord.volumeType,\n              rules: [{ required: true, message: '请选择硬盘类型' }]\n            }\n          ]"}]},["hdd"===e.currRecord.volumeType?a("a-radio",{attrs:{value:"hdd"}},[e._v("普通")]):e._e(),"ssd"===e.currRecord.volumeType?a("a-radio",{attrs:{value:"ssd"}},[e._v("SSD")]):e._e()],1)],1),a("a-form-item",{attrs:{label:"容量",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["capacity",{initialValue:Number.parseInt(e.currRecord.capacity),rules:[{required:!0,message:"请输入容量"}]}],expression:"[\n            'capacity',\n            {\n              initialValue: Number.parseInt(currRecord.capacity),\n              rules: [{ required: true, message: '请输入容量' }]}\n          ]"}],attrs:{min:Number.parseInt(e.currRecord.capacity)}})],1),a("a-form-item",{attrs:{label:"购买时长",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["buyLength",{rules:[{required:!0,message:"请选择购买时长"}]}],expression:"[\n            'buyLength',\n            {\n              rules: [{ required: true, message: '请选择购买时长' }]}\n          ]"}]},[a("a-select-option",{attrs:{value:1}},[e._v("1个月")]),a("a-select-option",{attrs:{value:2}},[e._v("2个月")]),a("a-select-option",{attrs:{value:3}},[e._v("3个月")]),a("a-select-option",{attrs:{value:6}},[e._v("半年")]),a("a-select-option",{attrs:{value:12}},[e._v("1年")]),a("a-select-option",{attrs:{value:24}},[e._v("2年")]),a("a-select-option",{attrs:{value:36}},[e._v("3年")])],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:12,offset:8}},[e._v("配置费用： ￥120.00")])],1)],1)],1)}),s=[],o=a("e0ae"),l=a("0792"),c=a("a6fd"),u={mixins:[o["a"],o["b"]],data:function(){return{fetchAPI:c["d"],rulesObj:l["a"],name:"create"}},methods:{initFormValues:function(){this.formValues={resource:this.currRecord.id,resourceType:1,configCost:5}},onShow:function(){this.initFormValues()}}},d=u,m=a("2877"),p=Object(m["a"])(d,i,s,!1,null,null,null),h=p.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"编辑硬盘快照",okText:"提交"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"名称",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:e.currRecord.name,rules:[{required:!0,message:"请输入名称"},e.rulesObj.name]}],expression:"[\n            'name',\n            {\n              initialValue: currRecord.name,\n              rules: [\n                { required: true, message: '请输入名称' },\n                rulesObj.name,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入名称"}})],1),a("a-form-item",{attrs:{label:"描述",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{initialValue:e.currRecord.description&&e.currRecord.description.replace(/^无$/,""),rules:[e.rulesObj.desc]}],expression:"[\n            'description',\n            {\n              initialValue: currRecord.description && currRecord.description.replace(/^无$/, ''),\n              rules: [\n                rulesObj.desc,\n              ]\n            }\n          ]"}],attrs:{placeholder:"请输入描述"}})],1)],1)],1)],1)},v=[],b={mixins:[o["a"],o["b"]],data:function(){return{fetchAPI:c["k"],rulesObj:l["a"],name:"edit"}},methods:{onShow:function(){this.formValues={snapshotId:this.currRecord.id}}}},g=b,y=Object(m["a"])(g,f,v,!1,null,null,null),C=y.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"删除硬盘快照",okText:"删除",okType:"danger"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-alert",{attrs:{message:"注意：删除硬盘后数据不可恢复！",type:"warning",showIcon:""}}),a("p",{staticStyle:{"margin-top":"10px","text-align":"center"}},[e._v("是否删除硬盘快照"+e._s(e.currRecord.name)+"?")])],1)],1)},k=[],w={mixins:[o["a"]],data:function(){return{fetchAPI:c["h"],name:"delete"}},methods:{onShow:function(){this.formValues={snapshotId:this.currRecord.id}}}},x=w,I=Object(m["a"])(x,_,k,!1,null,null,null),O=I.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"删除硬盘快照",okText:"删除",okType:"danger"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-alert",{attrs:{message:"注意：删除硬盘后数据不可恢复！",type:"warning",showIcon:""}}),a("p",[e._v("是否删除硬盘快照 "+e._s(e.list.map(function(e){return e.name}).join(", "))+"，请确认你的操作。")])],1)],1)},V=[],j=(a("96cf"),a("1da1")),R=(a("6762"),a("2fdb"),{mixins:[o["a"]],data:function(){return{fetchAPI:c["h"],name:"multiDelete",loop:!0}},methods:{onShow:function(){var e=this.$parent,t=e.data,a=e.selectedRowKeys;this.list=t.filter(function(e){return a.includes(e.id)}),this.handleItemCount=this.list.length},handleItemFetch:function(){var e=Object(j["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a={snapshotId:t.id},e.next=4,this.fetchAPI(a);case 4:e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.handleItemCount=this.handleItemCount-1,0===this.handleItemCount&&this.handleLoopFetchEnd(),e.finish(9);case 13:case"end":return e.stop()}},e,this,[[0,7,9,13]])}));function t(t){return e.apply(this,arguments)}return t}()}}),L=R,D=Object(m["a"])(L,S,V,!1,null,null,null),T=D.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{staticClass:"detail-modal",attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"快照详情",okText:"确定"},on:{cancel:e.handleCancel,ok:e.handleCancel}},[e.show?a("ul",e._l(e.columns,function(t){return a("li",{key:t.title},[a("span",[e._v(e._s(t.title))]),a("span",[e._v(e._s(e.currRecord[t.dataIndex]||"无"))])])})):e._e(),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("确定")])],1)],2)},$=[],E={mixins:[o["a"]],data:function(){var e=[{title:"名称",dataIndex:"name"},{title:"描述",dataIndex:"description"},{title:"容量(G)",dataIndex:"capacity"},{title:"状态",dataIndex:"status_zh"},{title:"卷名称",dataIndex:"volumeName"},{title:"创建于",dataIndex:"createDate"}];return{name:"detail",columns:e,show:!1}},methods:{onShow:function(){console.log(this.currRecord),this.show=!0}}},A=E,F=(a("e06d"),Object(m["a"])(A,N,$,!1,null,"f535027a",null)),q=F.exports,P=a("3614"),M={snap:{status:{available:"可用"}}},K=M.snap.status,z={mixins:[P["a"]],components:{CreateModal:h,EditModal:C,DeleteModal:O,MultiDelete:T,Detail:q},data:function(){return{getList:c["o"],module:"store",id:"snapshot",name:"快照",searchValues:{type:"name",inputValue:"",status:"all"},types:{name:"名称"}}},computed:{},methods:{__handleTransformToZh:function(e){return K[e]||e},handleParseData:function(e){var t=this,a=e.filter(function(e){return"deleting"!==e.status});return a.forEach(function(e){var a=t.__handleTransformToZh(e.status);Object.assign(e,{status_zh:a})}),a}}},G=z,B=(a("92ec"),Object(m["a"])(G,n,r,!1,null,null,null));t["a"]=B.exports},"3ca5":function(e,t,a){var n=a("7726").parseInt,r=a("aa77").trim,i=a("fdef"),s=/^[-+]?0[xX]/;e.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){var a=r(String(e),3);return n(a,t>>>0||(s.test(a)?16:10))}:n},"446b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[4===e.$route.matched.length?a("router-view"):a("page-layout",[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",[e._v("硬盘备份可以为云硬盘创建在线备份。针对病毒入侵、人为误删除、软硬件故障等导致数据丢失或者损坏的场景，可通过任意时刻的备份恢复数据，以保证用户数据正确性和安全性，确保您的数据安全。创建硬盘备份的速度和硬盘大小有关系，硬盘越大速度越慢。恢复数据时备份可以用来创建新的云硬盘或者恢复数据到云硬盘，恢复备份的时间和原硬盘大小成正比。")])]),a("div",{staticClass:"content"},[a("my-content")],1)])],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"16px"}},[a("a-row",{attrs:{type:"flex",justify:"space-between"}},[a("a-col",[a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"sync",disabled:e.loading,title:"刷新"},on:{click:e.handleRefresh}}),a("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"danger",disabled:!e.selectedRowKeys.length},on:{click:function(t){e.handleMultiMenuClick("multiDelete")}}},[e._v("\n          删除\n        ")])],1),a("a-col",[a("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[a("a-input-group",{staticClass:"compact-search-input",attrs:{compact:""}},[a("a-select",{staticStyle:{width:"90px!important"},on:{change:function(t){return e.searchValues.type=t}},model:{value:e.searchValues.type,callback:function(t){e.$set(e.searchValues,"type",t)},expression:"searchValues.type"}},e._l(e.types,function(t,n){return a("a-select-option",{key:n,attrs:{value:n}},[e._v("\n                "+e._s(t)+"\n              ")])}),1),a("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"+e.types[e.searchValues.type]+"信息"},on:{pressEnter:e.handleDATA},model:{value:e.searchValues.inputValue,callback:function(t){e.$set(e.searchValues,"inputValue",t)},expression:"searchValues.inputValue"}},[e.searchValues.inputValue?a("a-icon",{attrs:{slot:"suffix",type:"close-circle"},on:{click:function(t){e.searchValues.inputValue=""}},slot:"suffix"}):e._e()],1)],1)],1),a("a-select",{staticStyle:{"margin-left":"8px"},on:{change:function(t){return e.searchValues.status=t}},model:{value:e.searchValues.status,callback:function(t){e.$set(e.searchValues,"status",t)},expression:"searchValues.status"}},[a("a-select-option",{key:"all",attrs:{value:"all"}},[e._v("全部")]),a("a-select-option",{key:"available",attrs:{value:"available"}},[e._v("可用")]),a("a-select-option",{key:"in-use",attrs:{value:"in-use"}},[e._v("使用中")])],1),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.handleDATA}},[e._v("\n          搜索\n          "),a("a-icon",{attrs:{type:"search"}})],1)],1)],1)],1),a("a-alert",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"info",showIcon:""}},[a("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n      已选择 \n      "),a("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("  项\n      "),a("a",{staticStyle:{"margin-left":"24px"},on:{click:e.handleClearSelected}},[e._v("清空")])])]),a("a-table",{attrs:{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onTableSelectChange},columns:e.columns,rowKey:function(e){return e.id},dataSource:e.data,pagination:e.pagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"name",fn:function(t,n){return[a("a",{attrs:{title:"点击查看详情"},on:{click:function(t){e.handleSingleMenuClick("detail",n)}}},[e._v(e._s(t))])]}},{key:"operation",fn:function(t,n){return[a("a-dropdown",{staticStyle:{"margin-right":"10px"}},[a("a-menu",{attrs:{slot:"overlay"},on:{click:function(t){e.handleSingleMenuClick(t.key,n)}},slot:"overlay"},e._l(e.singleMenuOptions,function(t){return a("a-menu-item",{key:t.id},[e._v("\n            "+e._s(t.name)+"\n          ")])}),1),a("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("\n          操作\n          "),a("a-icon",{attrs:{type:"down"}})],1)],1)]}}])}),a("recover-modal"),a("multi-delete"),a("delete-modal"),a("detail")],1)},s=[],o=(a("f751"),a("ac6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"恢复备份",okText:"提交"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"类型",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{initialValue:e.type,rules:[{required:!0,message:"请选择类型"}]}],expression:"[\n            'type',\n            {\n              initialValue: type,\n              rules: [{ required: true, message: '请选择类型' }]\n            }\n          ]"}],on:{change:e.onChange}},["无"!==e.currRecord.volumeName?a("a-radio",{attrs:{value:0}},[e._v("覆盖原硬盘“"+e._s(e.currRecord.volumeName)+"”")]):e._e(),a("a-radio",{attrs:{value:1}},[e._v("创建新硬盘")])],1)],1),1==e.type?[a("a-form-item",{attrs:{label:"硬盘类型",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["volumeType",{initialValue:e.currRecord.volumeType,rules:[{required:!0,message:"请选择硬盘类型"}]}],expression:"[\n              'volumeType',\n              {\n                initialValue: currRecord.volumeType,\n                rules: [{ required: true, message: '请选择硬盘类型' }]\n              }\n            ]"}]},[e.currRecord.volumeType||"hdd"===e.currRecord.volumeType?a("a-radio",{attrs:{value:"hdd"}},[e._v("普通")]):e._e(),e.currRecord.volumeType||"ssd"===e.currRecord.volumeType?a("a-radio",{attrs:{value:"ssd"}},[e._v("SSD")]):e._e()],1)],1),a("a-form-item",{attrs:{label:"容量",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["capacity",{initialValue:Number.parseInt(e.currRecord.capacity),rules:[{required:!0,message:"请输入容量"}]}],expression:"[\n              'capacity',\n              {\n                initialValue: Number.parseInt(currRecord.capacity),\n                rules: [{ required: true, message: '请输入容量' }]}\n            ]"}],attrs:{min:Number.parseInt(e.currRecord.capacity)}})],1),a("a-form-item",{attrs:{label:"购买时长",labelCol:e.formItemLayout.labelCol,wrapperCol:e.formItemLayout.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["buyLength",{rules:[{required:!0,message:"请选择购买时长"}]}],expression:"[\n              'buyLength',\n              {\n                rules: [{ required: true, message: '请选择购买时长' }]}\n            ]"}]},[a("a-select-option",{attrs:{value:1}},[e._v("1个月")]),a("a-select-option",{attrs:{value:2}},[e._v("2个月")]),a("a-select-option",{attrs:{value:3}},[e._v("3个月")]),a("a-select-option",{attrs:{value:6}},[e._v("半年")]),a("a-select-option",{attrs:{value:12}},[e._v("1年")]),a("a-select-option",{attrs:{value:24}},[e._v("2年")]),a("a-select-option",{attrs:{value:36}},[e._v("3年")])],1)],1)]:e._e()],2),a("a-row",[a("a-col",{attrs:{span:12,offset:8}},[e._v("配置费用： ￥10.00")])],1)],1)],1)}),l=[],c=(a("6762"),a("2fdb"),a("7f7f"),a("96cf"),a("1da1")),u=a("e0ae"),d=a("a6fd"),m={mixins:[u["a"],u["b"]],data:function(){return{name:"recover",type:0}},methods:{initFormValues:function(){"无"===this.currRecord.volumeName?this.type=1:this.type=0,this.formValues={backupId:this.currRecord.id,configCost:5}},onChange:function(e){this.type=e.target.value},onShow:function(){this.initFormValues()},handleCreate:function(){var e=this,t=this;this.form.validateFieldsAndScroll(function(a,n){if(!a)if(t.formValues=Object.assign({},t.formValues,n),t.confirmLoading=!0,1===n.type)t.createEmptyDisk();else{var r={backupId:e.currRecord.id,type:0};t.coverDisk(r)}})},createEmptyDisk:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=Object.assign({},this.formValues,{name:this.currRecord.name,number:1,resourceType:0}),e.next=4,Object(d["d"])(t);case 4:a=e.sent,a.data.forEach(function(e){n.traceDiskStatus(e)}),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:return e.prev=10,this.confirmLoading=!1,e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,8,10,13]])}));function t(){return e.apply(this,arguments)}return t}(),traceDiskStatus:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d["m"])(t.id);case 3:a=e.sent,n=a.hardDisk.status,n.includes("ing")?this.traceDiskStatus(t):(r={backupId:this.currRecord.id,volumeId:t.id},this.coverDisk(r)),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}},e,this,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}(),coverDisk:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d["q"])(t);case 3:a=e.sent,this.openNotification(a),this.handleCancel(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message.error(e.t0.response.data.desc);case 11:return e.prev=11,this.confirmLoading=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}));function t(t){return e.apply(this,arguments)}return t}()}},p=m,h=a("2877"),f=Object(h["a"])(p,o,l,!1,null,null,null),v=f.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"删除硬盘备份",okText:"删除",okType:"danger"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-alert",{attrs:{message:"注意：删除备份后数据不可恢复！",type:"warning",showIcon:""}}),a("p",{staticStyle:{"margin-top":"10px","text-align":"center"}},[e._v("是否删除硬盘备份"+e._s(e.currRecord.name)+"?")])],1)],1)},g=[],y={mixins:[u["a"]],data:function(){return{fetchAPI:d["f"],name:"delete"}},methods:{onShow:function(){this.formValues={backupId:this.currRecord.id}}}},C=y,_=Object(h["a"])(C,b,g,!1,null,null,null),k=_.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"删除硬盘备份",okText:"删除",okType:"danger"},on:{cancel:e.handleCancel,ok:e.handleCreate}},[a("a-alert",{attrs:{message:"注意：删除硬盘后数据不可恢复！",type:"warning",showIcon:""}}),a("p",[e._v("是否删除硬盘备份 "+e._s(e.list.map(function(e){return e.name}).join(", "))+"，请确认你的操作。")])],1)],1)},x=[],I={mixins:[u["a"]],data:function(){return{fetchAPI:d["f"],name:"multiDelete",loop:!0}},methods:{onShow:function(){var e=this.$parent,t=e.data,a=e.selectedRowKeys;this.list=t.filter(function(e){return a.includes(e.id)}),this.handleItemCount=this.list.length},handleItemFetch:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a={backupId:t.id},e.next=4,this.fetchAPI(a);case 4:e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,this.handleItemCount=this.handleItemCount-1,0===this.handleItemCount&&this.handleLoopFetchEnd(),e.finish(9);case 13:case"end":return e.stop()}},e,this,[[0,7,9,13]])}));function t(t){return e.apply(this,arguments)}return t}()}},O=I,S=Object(h["a"])(O,w,x,!1,null,null,null),V=S.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{staticClass:"detail-modal",attrs:{visible:e.visible,confirmLoading:e.confirmLoading,title:"备份详情",okText:"确定"},on:{cancel:e.handleCancel,ok:e.handleCancel}},[e.show?a("ul",e._l(e.columns,function(t){return a("li",{key:t.title},[a("span",[e._v(e._s(t.title))]),a("span",[e._v(e._s(e.currRecord[t.dataIndex]||"无"))])])})):e._e(),a("template",{slot:"footer"},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("确定")])],1)],2)},R=[],L={mixins:[u["a"]],data:function(){var e=[{title:"名称",dataIndex:"name"},{title:"描述",dataIndex:"description"},{title:"容量(G)",dataIndex:"capacity"},{title:"状态",dataIndex:"status_zh"},{title:"卷名称",dataIndex:"volumeName"},{title:"创建于",dataIndex:"createDate"}];return{name:"detail",columns:e,show:!1}},methods:{onShow:function(){console.log(this.currRecord),this.show=!0}}},D=L,T=(a("6a2d"),Object(h["a"])(D,j,R,!1,null,"48ec068a",null)),N=T.exports,$=a("3614"),E={backups:{status:{available:"可用"}}},A=E.backups.status,F={mixins:[$["a"]],components:{RecoverModal:v,DeleteModal:k,MultiDelete:V,Detail:N},data:function(){return{getList:d["l"],module:"store",id:"backups",name:"硬盘备份",searchValues:{type:"name",inputValue:"",status:"all"},types:{name:"名称"}}},computed:{},methods:{__handleTransformToZh:function(e){return A[e]||e},handleParseData:function(e){var t=this,a=e.filter(function(e){return"deleting"!==e.status});return a.forEach(function(e){var a=t.__handleTransformToZh(e.status);Object.assign(e,{status_zh:a})}),a}}},q=F,P=Object(h["a"])(q,i,s,!1,null,null,null),M=P.exports,K=a("d8c3"),z={components:{MyContent:M,PageLayout:K["a"]}},G=z,B=Object(h["a"])(G,n,r,!1,null,null,null);t["default"]=B.exports},"504c":function(e,t,a){var n=a("0d58"),r=a("6821"),i=a("52a7").f;e.exports=function(e){return function(t){var a,s=r(t),o=n(s),l=o.length,c=0,u=[];while(l>c)i.call(s,a=o[c++])&&u.push(e?[a,s[a]]:s[a]);return u}}},5892:function(e,t,a){"use strict";var n=a("0840b"),r=a.n(n);r.a},"599a":function(e,t,a){"use strict";var n=a("eb59"),r=a.n(n);r.a},"59ba":function(e,t,a){},"5d78":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-layout",[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",[e._v("硬盘为主机提供块存储设备，它独立于主机的生命周期而存在，可以被连接到任意运行中的主机上。注意，硬盘附加到主机上后，您还需要登录到您的主机的操作系统中去加载该硬盘。当然，也可以从主机上卸载硬盘、并转至其他主机。注意，请先在您的主机的操作系统中卸载硬盘，然后再在友普云控制台上卸载。")]),a("a-tabs",{staticStyle:{position:"relative",top:"17px"},attrs:{defaultActiveKey:"1"},on:{change:e.handleTabChange}},[a("a-tab-pane",{key:"1",attrs:{tab:"概览"}}),a("a-tab-pane",{key:"2",attrs:{tab:"快照"}})],1)],1),a("div",{staticClass:"content"},[1==e.tabKey?a("ul",{staticClass:"detail-container"},e._l(e.data,function(t){return a("li",{key:t.key},[a("span",{staticClass:"key"},[e._v(e._s(t.name))]),a("span",{staticClass:"value"},[e._v(e._s(t.value))])])})):[a("snapshot")]],2)])],1)},r=[],i=a("d8c3"),s=a("3a7d"),o={components:{PageLayout:i["a"],Snapshot:s["a"]},data:function(){return{data:[{name:"名称",key:"名称",value:"db3"},{name:"状态",key:"状态",value:"使用中"},{name:"容量",key:"容量",value:"100 G"},{name:"类型",key:"类型",value:"SSD"},{name:"月费用",key:"月费用",value:"￥120"},{name:"可启动",key:"可启动",value:"否"},{name:"创建时间",key:"创建时间",value:"2018年1月1日 02:15"},{name:"挂载的主机",key:"挂载的主机",value:"host-db3 /dev/vdb"}],loading:!1,busy:!1,tabKey:1}},beforeMount:function(){},mounted:function(){this.init()},methods:{handleTabChange:function(e){this.tabKey=e},init:function(){this.$route.meta.title=this.$route.params.id}}},l=o,c=(a("f2e1"),a("2877")),u=Object(c["a"])(l,n,r,!1,null,"7828b4fd",null);t["default"]=u.exports},"5dbc":function(e,t,a){var n=a("d3f4"),r=a("8b97").set;e.exports=function(e,t,a){var i,s=t.constructor;return s!==a&&"function"==typeof s&&(i=s.prototype)!==a.prototype&&n(i)&&r&&r(e,i),e}},"6a2d":function(e,t,a){"use strict";var n=a("2a14"),r=a.n(n);r.a},"6e04":function(e,t,a){},"6fcc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-layout",[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",[e._v("硬盘备份可以为云硬盘创建在线备份。针对病毒入侵、人为误删除、软硬件故障等导致数据丢失或者损坏的场景，可通过任意时刻的备份恢复数据，以保证用户数据正确性和安全性，确保您的数据安全。创建硬盘备份的速度和硬盘大小有关系，硬盘越大速度越慢。恢复数据时备份可以用来创建新的云硬盘或者恢复数据到云硬盘，恢复备份的时间和原硬盘大小成正比。")])]),a("div",{staticClass:"content"},[a("ul",{staticClass:"detail-container"},e._l(e.data,function(t){return a("li",{key:t.key},["disk"===t.key?[a("span",{staticClass:"key"},[e._v(e._s(t.name))]),a("span",{staticClass:"value"},[a("router-link",{attrs:{to:{name:"disk-instance",params:{id:t.value}}}},[e._v(e._s(t.value))])],1)]:[a("span",{staticClass:"key"},[e._v(e._s(t.name))]),a("span",{staticClass:"value"},[e._v(e._s(t.value))])]],2)}))])])],1)},r=[],i=a("d8c3"),s={components:{PageLayout:i["a"]},data:function(){return{data:[{name:"名称",key:"名称",value:"db3"},{name:"硬盘名称",key:"disk",value:"硬盘名称db3"},{name:"状态",key:"状态",value:"使用中"},{name:"容量",key:"容量",value:"100 G"},{name:"类型",key:"类型",value:"SSD"},{name:"日费用",key:"日费用",value:"￥120"},{name:"创建时间",key:"创建时间",value:"2018年1月1日 02:15"}],loading:!1,busy:!1,tabKey:1}},beforeMount:function(){},mounted:function(){this.init()},methods:{init:function(){this.$route.meta.title=this.$route.params.id}}},o=s,l=(a("edb7"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"4f43fa7f",null);t["default"]=c.exports},"75a1":function(e,t,a){"use strict";a.d(t,"d",function(){return r}),a.d(t,"a",function(){return i}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return o});var n=a("b775"),r=function(e){return Object(n["b"])("/compute/image/list",e)},i=function(e){return Object(n["c"])("/compute/image/create",e)},s=function(e){return Object(n["c"])("/compute/image/edit",e)},o=function(e){return Object(n["a"])("/compute/image/delete",e)}},8615:function(e,t,a){var n=a("5ca1"),r=a("504c")(!1);n(n.S,"Object",{values:function(e){return r(e)}})},"8b97":function(e,t,a){var n=a("d3f4"),r=a("cb7c"),i=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,a){return i(e,a),t?e.__proto__=a:n(e,a),e}}({},!1):void 0),check:i}},9093:function(e,t,a){var n=a("ce10"),r=a("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},"92ec":function(e,t,a){"use strict";var n=a("3079"),r=a.n(n);r.a},a05bf:function(e,t,a){},a574:function(e,t,a){"use strict";var n=a("59ba"),r=a.n(n);r.a},a6fd:function(e,t,a){"use strict";a.d(t,"n",function(){return r}),a.d(t,"m",function(){return i}),a.d(t,"d",function(){return s}),a.d(t,"g",function(){return o}),a.d(t,"j",function(){return l}),a.d(t,"r",function(){return c}),a.d(t,"i",function(){return u}),a.d(t,"p",function(){return d}),a.d(t,"e",function(){return m}),a.d(t,"c",function(){return p}),a.d(t,"a",function(){return h}),a.d(t,"b",function(){return f}),a.d(t,"s",function(){return v}),a.d(t,"o",function(){return b}),a.d(t,"h",function(){return g}),a.d(t,"k",function(){return y}),a.d(t,"l",function(){return C}),a.d(t,"f",function(){return _}),a.d(t,"q",function(){return k});var n=a("b775"),r=function(e){return Object(n["b"])("/storage/hardDisk/list",e)},i=function(e){return Object(n["b"])("/storage/hardDisk/detail/".concat(e))},s=function(e){return Object(n["c"])("/storage/hardDisk/create",e)},o=function(e){return Object(n["a"])("/storage/hardDisk/delete",e)},l=function(e){return Object(n["c"])("/storage/hardDisk/edit",e)},c=function(e){return Object(n["c"])("/storage/hardDisk/uninstall",e)},u=function(e){return Object(n["c"])("/storage/hardDisk/dilatancy",e)},d=function(e){return Object(n["c"])("/storage/hardDisk/mount",e)},m=function(e){return Object(n["c"])("/storage/hardDisk/snapshot/create",e)},p=function(e){return Object(n["c"])("/storage/hardDisk/backup/create",e)},h=function(e){return Object(n["c"])("/storage/hardDisk/type/modify",e)},f=function(e){return Object(n["c"])("/storage/hardDisk/clone",e)},v=function(e){return Object(n["c"])("/storage/hardDisk/image/upload",e)},b=function(e){return Object(n["b"])("/storage/snapshot/list",e)},g=function(e){return Object(n["a"])("/storage/snapshot/delete",e)},y=function(e){return Object(n["c"])("/storage/snapshot/edit",e)},C=function(e){return Object(n["b"])("/storage/backup/list",e)},_=function(e){return Object(n["a"])("/storage/backup/delete",e)},k=function(e){return Object(n["c"])("/storage/backup/restore",e)}},aa77:function(e,t,a){var n=a("5ca1"),r=a("be13"),i=a("79e5"),s=a("fdef"),o="["+s+"]",l="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(e,t,a){var r={},o=i(function(){return!!s[e]()||l[e]()!=l}),c=r[e]=o?t(m):s[e];a&&(r[a]=c),n(n.P+n.F*o,"String",r)},m=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},b691:function(e,t,a){},c5f6:function(e,t,a){"use strict";var n=a("7726"),r=a("69a8"),i=a("2d95"),s=a("5dbc"),o=a("6a99"),l=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,m=a("aa77").trim,p="Number",h=n[p],f=h,v=h.prototype,b=i(a("2aeb")(v))==p,g="trim"in String.prototype,y=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=g?t.trim():m(t,3);var a,n,r,i=t.charCodeAt(0);if(43===i||45===i){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var s,l=t.slice(2),c=0,u=l.length;c<u;c++)if(s=l.charCodeAt(c),s<48||s>r)return NaN;return parseInt(l,n)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof h&&(b?l(function(){v.valueOf.call(a)}):i(a)!=p)?s(new f(y(t)),a,h):y(t)};for(var C,_=a("9e1e")?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;_.length>k;k++)r(f,C=_[k])&&!r(h,C)&&d(h,C,u(f,C));h.prototype=v,v.constructor=h,a("2aba")(n,p,h)}},d8a4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[4===e.$route.matched.length?a("router-view"):a("page-layout",[a("div",{attrs:{slot:"header"},slot:"header"},[a("p",[e._v("硬盘快照指的是云硬盘数据在某个时刻的完整拷贝或镜像，是一种重要的数据容灾手段，当数据丢失时，可通过快照将数据完整的恢复到快照时间点。创建硬盘快照速度很快可以在几秒钟内完成，恢复数据时可快速通过快照创建新的云硬盘，这样硬盘在初始状态就具有快照中的数据。")])]),a("div",{staticClass:"content"},[a("my-content")],1)])],1)},r=[],i=a("3a7d"),s=a("d8c3"),o={components:{MyContent:i["a"],PageLayout:s["a"]}},l=o,c=a("2877"),u=Object(c["a"])(l,n,r,!1,null,null,null);t["default"]=u.exports},d8c3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("page-header",[e._t("header")],2),a("a-layout-content",{staticClass:"page-content"},[e._t("default")],2)],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"page-header"},[a("div",{staticClass:"page-header-detail"},[a("div",{staticClass:"title"},[a("h1",[e._v(e._s(e.title))])]),a("div",{staticClass:"desc"},[e._t("default")],2)])])},s=[],o={name:"",components:{},computed:{},created:function(){this.getTitle()},data:function(){return{title:""}},methods:{getTitle:function(){var e=this.$route.matched;this.title=e.length>2?e[2].meta.title:this.$route.meta.title}}},l=o,c=(a("200b"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,null,null),d=u.exports,m={name:"",components:{PageHeader:d},computed:{},data:function(){return{}},methods:{}},p=m,h=(a("599a"),Object(c["a"])(p,n,r,!1,null,null,null));t["a"]=h.exports},db0e:function(e,t,a){"use strict";var n=a("27f0"),r=a.n(n);r.a},e06d:function(e,t,a){"use strict";var n=a("e8b7"),r=a.n(n);r.a},e0ae:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return s});a("f751"),a("ac6a"),a("96cf");var n=a("1da1"),r=a("ade3"),i=(a("7f7f"),{data:function(){return{module:"",bodyStyle:{"max-height":"400px",overflow:"auto"},radioStyle:{display:"block",height:"30px",lineHeight:"30px"},confirmLoading:!1,formValues:{},currRecord:{},fetchAPI:function(){},isRefreshParentTable:!0,loop:!1,list:[],handleItemCount:0}},computed:{visible:function(){var e=this.$store.getters["".concat(this.$parent.id,"/getVisibleById")](this.name);return e}},watch:{visible:function(e,t){e?(this.currRecord=this.$parent.currRecord||{},this.formValues={},this.form&&this.form.resetFields(),this.bindId(),this.onShow()):(this.form&&this.form.resetFields(),this.onHidden())}},methods:{bindId:function(){},onShow:function(){},onHidden:function(){},onInputNumberChange:function(e,t){var a=Object(r["a"])({},t,parseInt(e));this.form.setFieldsValue(a)},handleCancel:function(){this.$store.commit("".concat(this.$parent.id,"/toggleModalVisible"),this.name)},handleCreate:function(){this.handleFetch()},handleFetch:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loop){e.next=3;break}return this.handleLoopFetchStart(),e.abrupt("return",!1);case 3:return this.confirmLoading=!0,e.prev=4,e.next=7,this.fetchAPI(this.formValues);case 7:t=e.sent,this.handleFetchSuccess(t),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),this.handleFetchFailed(e.t0);case 14:return e.prev=14,this.confirmLoading=!1,e.finish(14);case 17:case"end":return e.stop()}},e,this,[[4,11,14,17]])}));function t(){return e.apply(this,arguments)}return t}(),handleFetchSuccess:function(e){this.handleCancel(),this.openNotification(e),this.handleRefreshParentTable()},handleFetchFailed:function(e){},handleRefreshParentTable:function(){this.isRefreshParentTable&&this.$parent.handleRefresh()},openNotification:function(e){this.$message.success(e.desc||"操作成功")},formatter:function(e,t){return parseInt(t)+" "+e},parser:function(e){return parseInt(e)},handleLoopFetchStart:function(){var e=this;this.list.length&&this.handleItemCount&&(this.confirmLoading=!0,this.list.forEach(function(t){e.handleItemFetch(t)}))},handleLoopFetchEnd:function(){this.confirmLoading=!1,this.$message.success("操作完成"),this.handleRefreshParentTable(),this.handleCancel()},handleItemFetch:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchAPI(t);case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:return e.prev=8,this.handleItemCount=this.handleItemCount-1,0===this.handleItemCount&&this.handleLoopFetchEnd(),e.finish(8);case 12:case"end":return e.stop()}},e,this,[[0,6,8,12]])}));function t(t){return e.apply(this,arguments)}return t}()}}),s={data:function(){return{formItemLayout:{labelCol:{span:8},wrapperCol:{span:14}},form:null}},created:function(){var e=this;this.form=this.$form.createForm(this,{onFieldsChange:function(t,a){e.onFieldsChange(t,a)},onValuesChange:function(t,a,n){e.onValuesChange(t,a,n)}})},methods:{onValuesChange:function(e,t,a){},onFieldsChange:function(){},handleCreate:function(){var e=this;this.form.validateFieldsAndScroll(function(t,a){t||(e.formValues=Object.assign({},e.formValues,a),e.handleFetch())})}}}},e474:function(e,t,a){"use strict";var n=a("22b0"),r=a.n(n);r.a},e8b7:function(e,t,a){},eb59:function(e,t,a){},edb7:function(e,t,a){"use strict";var n=a("6e04"),r=a.n(n);r.a},f2e1:function(e,t,a){"use strict";var n=a("a05bf"),r=a.n(n);r.a},f30f:function(e,t,a){"use strict";a.d(t,"i",function(){return r}),a.d(t,"h",function(){return i}),a.d(t,"g",function(){return s}),a.d(t,"f",function(){return o}),a.d(t,"a",function(){return l}),a.d(t,"c",function(){return c}),a.d(t,"n",function(){return u}),a.d(t,"l",function(){return d}),a.d(t,"k",function(){return m}),a.d(t,"m",function(){return p}),a.d(t,"b",function(){return h}),a.d(t,"j",function(){return f}),a.d(t,"d",function(){return v}),a.d(t,"e",function(){return b});var n=a("b775"),r=function(e){return Object(n["b"])("/compute/instance/list",e)},i=function(e){return Object(n["b"])("/compute/instance/status/".concat(e))},s=function(e){return Object(n["b"])("/compute/instance/network/".concat(e))},o=function(e){return Object(n["b"])("/compute/instance/securityGroup/".concat(e))},l=function(e){return Object(n["c"])("/compute/instance/create",e)},c=function(e){return Object(n["a"])("/compute/instance/delete",e)},u=function(e){return Object(n["c"])("/compute/instance/start",e)},d=function(e){return Object(n["c"])("/compute/instance/shutdown",e)},m=function(e){return Object(n["c"])("/compute/instance/restart",e)},p=function(e){return Object(n["c"])("/compute/instance/softreboot",e)},h=function(e){return Object(n["c"])("/compute/instance/snapshot/create",e)},f=function(e){return Object(n["c"])("/compute/instance/rebuild",e)},v=function(e){return Object(n["c"])("/compute/instance/securitygroup/edit",e)},b=function(e){return Object(n["c"])("/compute/instance/console/enter",e)}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=store.ba57d66f.js.map